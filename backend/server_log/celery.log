2025-07-15 12:55:40,197 - __main__ - INFO - Starting Pegasus Brain Celery worker...
 
 -------------- celery@mac-1.home v5.5.3 (immunity)
--- ***** ----- 
-- ******* ---- macOS-15.5-arm64-arm-64bit 2025-07-15 12:55:40
- *** --- * --- 
- ** ---------- [config]
- ** ---------- .> app:         pegasus_brain:0x1025c1f10
- ** ---------- .> transport:   redis://localhost:6379/0
- ** ---------- .> results:     postgresql://pegasus_user:**@localhost:5432/pegasus_db
- *** --- * --- .> concurrency: 2 (solo)
-- ******* ---- .> task events: ON
--- ***** ----- 
 -------------- [queues]
                .> default          exchange=default(direct) key=default
                .> entity_extraction exchange=nlp(direct) key=nlp.entities
                .> graph_building   exchange=indexing(direct) key=indexing.graph
                .> plugin_execution exchange=plugins(direct) key=plugin.execute
                .> transcript_processing exchange=transcript(direct) key=transcript.processing
                .> vector_indexing  exchange=indexing(direct) key=indexing.vector

[tasks]
  . workers.celery_app.health_check
  . workers.tasks.conversation_processing_tasks.process_conversation_history
  . workers.tasks.plugin_executor.execute_plugins_for_transcript
  . workers.tasks.plugin_executor.execute_single_plugin
  . workers.tasks.plugin_executor.get_plugin_status
  . workers.tasks.plugin_executor.reload_plugin
  . workers.tasks.transcript_processor.process_knowledge_base
  . workers.tasks.transcript_processor.process_transcript
  . workers.tasks.transcript_processor.reprocess_transcript
  . workers.tasks.transcription_tasks.transcribe_audio

2025-07-15 12:55:40,649 - celery.worker.consumer.connection - INFO - Connected to redis://localhost:6379/0
2025-07-15 12:55:40,662 - workers.celery_app - INFO - Celery worker celery@mac-1.home is ready
2025-07-15 12:55:40,662 - celery.apps.worker - INFO - celery@mac-1.home ready.
2025-07-15 12:59:11,065 - celery.worker.strategy - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[37986e4c-654c-431f-a9a3-1f3d22f0bd40] received
2025-07-15 12:59:11,065 - workers.celery_app - INFO - Starting task workers.tasks.transcript_processor.process_knowledge_base [37986e4c-654c-431f-a9a3-1f3d22f0bd40]
2025-07-15 12:59:11,411 - services.neo4j_client - INFO - Successfully connected to Neo4j at bolt://localhost:7687
2025-07-15 12:59:11,420 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT person_name IF NOT EXISTS FOR (e:Person) REQUIRE (e.name) IS UNIQUE` has no effect.} {description: `CONSTRAINT person_name FOR (e:Person) REQUIRE (e.name) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT person_name IF NOT EXISTS FOR (p:Person) REQUIRE p.name IS UNIQUE'
2025-07-15 12:59:11,421 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT person_name IF NOT EXISTS
2025-07-15 12:59:11,424 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT location_name IF NOT EXISTS FOR (e:Location) REQUIRE (e.name) IS UNIQUE` has no effect.} {description: `CONSTRAINT location_name FOR (e:Location) REQUIRE (e.name) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT location_name IF NOT EXISTS FOR (l:Location) REQUIRE l.name IS UNIQUE'
2025-07-15 12:59:11,424 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT location_name IF NOT EXISTS
2025-07-15 12:59:11,426 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT organization_name IF NOT EXISTS FOR (e:Organization) REQUIRE (e.name) IS UNIQUE` has no effect.} {description: `CONSTRAINT organization_name FOR (e:Organization) REQUIRE (e.name) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT organization_name IF NOT EXISTS FOR (o:Organization) REQUIRE o.name IS UNIQUE'
2025-07-15 12:59:11,427 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT organization_name IF NOT EXISTS
2025-07-15 12:59:11,429 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT topic_name IF NOT EXISTS FOR (e:Topic) REQUIRE (e.name) IS UNIQUE` has no effect.} {description: `CONSTRAINT topic_name FOR (e:Topic) REQUIRE (e.name) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT topic_name IF NOT EXISTS FOR (t:Topic) REQUIRE t.name IS UNIQUE'
2025-07-15 12:59:11,430 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT topic_name IF NOT EXISTS
2025-07-15 12:59:11,431 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT project_name IF NOT EXISTS FOR (e:Project) REQUIRE (e.name) IS UNIQUE` has no effect.} {description: `CONSTRAINT project_name FOR (e:Project) REQUIRE (e.name) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT project_name IF NOT EXISTS FOR (p:Project) REQUIRE p.name IS UNIQUE'
2025-07-15 12:59:11,432 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT project_name IF NOT EXISTS
2025-07-15 12:59:11,434 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT entity_id IF NOT EXISTS FOR (e:Entity) REQUIRE (e.id) IS UNIQUE` has no effect.} {description: `CONSTRAINT entity_id FOR (e:Entity) REQUIRE (e.id) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT entity_id IF NOT EXISTS FOR (e:Entity) REQUIRE e.id IS UNIQUE'
2025-07-15 12:59:11,435 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT entity_id IF NOT EXISTS
2025-07-15 12:59:11,436 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT entity_normalized_name IF NOT EXISTS FOR (e:Entity) REQUIRE (e.normalized_name) IS UNIQUE` has no effect.} {description: `CONSTRAINT entity_normalized_name FOR (e:Entity) REQUIRE (e.normalized_name) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT entity_normalized_name IF NOT EXISTS FOR (e:Entity) REQUIRE e.normalized_name IS UNIQUE'
2025-07-15 12:59:11,437 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT entity_normalized_name IF NOT EXISTS
2025-07-15 12:59:11,438 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT chunk_id IF NOT EXISTS FOR (e:AudioChunk) REQUIRE (e.id) IS UNIQUE` has no effect.} {description: `CONSTRAINT chunk_id FOR (e:AudioChunk) REQUIRE (e.id) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT chunk_id IF NOT EXISTS FOR (c:AudioChunk) REQUIRE c.id IS UNIQUE'
2025-07-15 12:59:11,439 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT chunk_id IF NOT EXISTS
2025-07-15 12:59:11,441 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE CONSTRAINT user_id IF NOT EXISTS FOR (e:User) REQUIRE (e.id) IS UNIQUE` has no effect.} {description: `CONSTRAINT user_id FOR (e:User) REQUIRE (e.id) IS UNIQUE` already exists.} {position: None} for query: 'CREATE CONSTRAINT user_id IF NOT EXISTS FOR (u:User) REQUIRE u.id IS UNIQUE'
2025-07-15 12:59:11,441 - services.neo4j_client - INFO - Created constraint: CREATE CONSTRAINT user_id IF NOT EXISTS
2025-07-15 12:59:11,443 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE RANGE INDEX audio_chunk_text IF NOT EXISTS FOR (e:AudioChunk) ON (e.text)` has no effect.} {description: `RANGE INDEX audio_chunk_text FOR (e:AudioChunk) ON (e.text)` already exists.} {position: None} for query: 'CREATE INDEX audio_chunk_text IF NOT EXISTS FOR (c:AudioChunk) ON (c.text)'
2025-07-15 12:59:11,443 - services.neo4j_client - INFO - Created index: CREATE INDEX audio_chunk_text IF NOT EXISTS
2025-07-15 12:59:11,445 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE RANGE INDEX entity_mentions IF NOT EXISTS FOR (e:Entity) ON (e.mention_count)` has no effect.} {description: `RANGE INDEX entity_mentions FOR (e:Entity) ON (e.mention_count)` already exists.} {position: None} for query: 'CREATE INDEX entity_mentions IF NOT EXISTS FOR (e:Entity) ON (e.mention_count)'
2025-07-15 12:59:11,445 - services.neo4j_client - INFO - Created index: CREATE INDEX entity_mentions IF NOT EXISTS
2025-07-15 12:59:11,446 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE RANGE INDEX chunk_timestamp IF NOT EXISTS FOR (e:AudioChunk) ON (e.timestamp)` has no effect.} {description: `RANGE INDEX chunk_timestamp FOR (e:AudioChunk) ON (e.timestamp)` already exists.} {position: None} for query: 'CREATE INDEX chunk_timestamp IF NOT EXISTS FOR (c:AudioChunk) ON (c.timestamp)'
2025-07-15 12:59:11,447 - services.neo4j_client - INFO - Created index: CREATE INDEX chunk_timestamp IF NOT EXISTS
2025-07-15 12:59:11,448 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE RANGE INDEX chunk_date IF NOT EXISTS FOR (e:AudioChunk) ON (e.date)` has no effect.} {description: `RANGE INDEX chunk_date FOR (e:AudioChunk) ON (e.date)` already exists.} {position: None} for query: 'CREATE INDEX chunk_date IF NOT EXISTS FOR (c:AudioChunk) ON (c.date)'
2025-07-15 12:59:11,448 - services.neo4j_client - INFO - Created index: CREATE INDEX chunk_date IF NOT EXISTS
2025-07-15 12:59:11,449 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE RANGE INDEX chunk_user_id IF NOT EXISTS FOR (e:AudioChunk) ON (e.user_id)` has no effect.} {description: `RANGE INDEX chunk_user_id FOR (e:AudioChunk) ON (e.user_id)` already exists.} {position: None} for query: 'CREATE INDEX chunk_user_id IF NOT EXISTS FOR (c:AudioChunk) ON (c.user_id)'
2025-07-15 12:59:11,450 - services.neo4j_client - INFO - Created index: CREATE INDEX chunk_user_id IF NOT EXISTS
2025-07-15 12:59:11,451 - neo4j.notifications - INFO - Received notification from DBMS server: {severity: INFORMATION} {code: Neo.ClientNotification.Schema.IndexOrConstraintAlreadyExists} {category: SCHEMA} {title: `CREATE RANGE INDEX entity_user_id IF NOT EXISTS FOR (e:Entity) ON (e.user_id)` has no effect.} {description: `RANGE INDEX entity_user_id FOR (e:Entity) ON (e.user_id)` already exists.} {position: None} for query: 'CREATE INDEX entity_user_id IF NOT EXISTS FOR (e:Entity) ON (e.user_id)'
2025-07-15 12:59:11,451 - services.neo4j_client - INFO - Created index: CREATE INDEX entity_user_id IF NOT EXISTS
2025-07-15 12:59:11,581 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/auth/identity "HTTP/1.1 200 OK"
2025-07-15 12:59:11,606 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant "HTTP/1.1 200 OK"
2025-07-15 12:59:11,608 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database "HTTP/1.1 200 OK"
2025-07-15 12:59:11,610 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/heartbeat "HTTP/1.1 200 OK"
2025-07-15 12:59:11,610 - services.vector_db_client - INFO - Connected to ChromaDB at localhost:8001
2025-07-15 12:59:13,825 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-07-15 12:59:15,698 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections "HTTP/1.1 200 OK"
2025-07-15 12:59:15,700 - services.vector_db_client - INFO - Initialized collection: pegasus_transcripts
2025-07-15 12:59:15,751 - repositories.job_repository - INFO - Updated job 1a838f1e-7969-4f44-a09f-dc862258ee15 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 12:59:15,751 - workers.base_task - INFO - Task 37986e4c-654c-431f-a9a3-1f3d22f0bd40 initialized successfully
2025-07-15 12:59:15,751 - workers.base_task - INFO - Progress: 1/5 (20.0%) - Loading improved transcript
2025-07-15 12:59:15,916 - workers.tasks.transcript_processor - INFO - Using existing improved transcript for knowledge base processing: bcca8aa5-5420-4b6a-8135-d51f3d920177
2025-07-15 12:59:15,916 - workers.base_task - INFO - Progress: 2/5 (40.0%) - Chunking transcript
2025-07-15 12:59:15,928 - workers.base_task - INFO - Progress: 3/5 (60.0%) - Analyzing sentiment and extracting entities
2025-07-15 12:59:18,108 - services.ner_service - INFO - Loaded spaCy model for en: en_core_web_sm
2025-07-15 12:59:18,609 - services.ner_service - INFO - Loaded spaCy model for fr: fr_core_news_sm
2025-07-15 12:59:18,629 - workers.base_task - INFO - Progress: 4/5 (80.0%) - Updating knowledge base
2025-07-15 12:59:18,652 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 12:59:18,657 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/delete "HTTP/1.1 200 OK"
2025-07-15 12:59:18,658 - services.vector_db_client - INFO - Deleted documents: ids=None, where={'audio_id': 'bcca8aa5-5420-4b6a-8135-d51f3d920177'}
2025-07-15 12:59:18,719 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 12:59:18,734 - celery.redirected - WARNING - Batches:   0%|          | 0/1 [00:00<?, ?it/s]
2025-07-15 12:59:18,847 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00,  8.86it/s]
2025-07-15 12:59:18,847 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00,  8.84it/s]
2025-07-15 12:59:18,849 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/pre-flight-checks "HTTP/1.1 200 OK"
2025-07-15 12:59:18,870 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/add "HTTP/1.1 201 Created"
2025-07-15 12:59:18,870 - services.vector_db_client - INFO - Added 1 documents to collection
2025-07-15 12:59:19,133 - workers.base_task - INFO - Progress: 5/5 (100.0%) - Knowledge base processing completed
2025-07-15 12:59:19,163 - workers.tasks.transcript_processor - INFO - Successfully updated knowledge base for audio bcca8aa5-5420-4b6a-8135-d51f3d920177 (no transcript improvement)
2025-07-15 12:59:19,179 - celery.app.trace - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[37986e4c-654c-431f-a9a3-1f3d22f0bd40] succeeded in 8.114311374985846s: {'audio_id': 'bcca8aa5-5420-4b6a-8135-d51f3d920177', 'chunks_created': 1, 'entities_extracted': 9, 'vector_indexed': True, 'graph_indexed': True, 'knowledge_base_updated_at': '2025-07-15T10:59:19.163359', 'transcript_improvement_skipped': True}
2025-07-15 12:59:19,183 - repositories.job_repository - INFO - Updated job 1a838f1e-7969-4f44-a09f-dc862258ee15 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 12:59:19,183 - workers.base_task - INFO - Task 37986e4c-654c-431f-a9a3-1f3d22f0bd40 cleanup completed
2025-07-15 12:59:19,183 - workers.celery_app - INFO - Finished task workers.tasks.transcript_processor.process_knowledge_base [37986e4c-654c-431f-a9a3-1f3d22f0bd40] with state: SUCCESS
2025-07-15 13:01:57,669 - celery.worker.strategy - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[8ea49e40-f0da-4159-8255-dbb0807b7113] received
2025-07-15 13:01:57,669 - workers.celery_app - INFO - Starting task workers.tasks.transcription_tasks.transcribe_audio [8ea49e40-f0da-4159-8255-dbb0807b7113]
2025-07-15 13:01:57,673 - repositories.job_repository - INFO - Updated job b8c38903-f764-4949-ada9-1b00d8e7b6bf status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:01:57,673 - workers.base_task - INFO - Task 8ea49e40-f0da-4159-8255-dbb0807b7113 initialized successfully
2025-07-15 13:01:57,674 - workers.base_task - INFO - Progress: 1/3 (33.3%) - Starting transcription
2025-07-15 13:01:57,690 - services.transcription_service - INFO - Transcribing audio_files/2025/07/15/audio_20250715_130157_8c2ad701.m4a with whisper
2025-07-15 13:01:57,690 - celery.redirected - WARNING - Using device for whisper: mps
2025-07-15 13:01:57,690 - services.transcription_service - INFO - Loading Whisper model: medium
2025-07-15 13:02:03,119 - py.warnings - WARNING - /Users/genereux/Dev/pegasus/backend/.venv/lib/python3.11/site-packages/whisper/transcribe.py:132: UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn("FP16 is not supported on CPU; using FP32 instead")

huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:02:03,477 - celery.redirected - WARNING -   0%|          | 0/11990 [00:00<?, ?frames/s]
2025-07-15 13:02:14,125 - celery.redirected - WARNING -   0%|          | 0/11990 [00:10<?, ?frames/s]
huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:02:14,221 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Original transcription complete, awaiting transcript improvement
2025-07-15 13:02:14,248 - services.ollama_service - INFO - Improving transcript with Ollama
2025-07-15 13:02:14,279 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-07-15 13:02:57,158 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-07-15 13:02:57,161 - services.ollama_service - INFO - Ollama completion successful: Result: {'model': 'qwen3:1.7b', 'created_at': '2025-07-15T11:02:57.14278Z', 'response': "CRITICAL RULES - VIOLATIONS WILL CAUSE REJECTION:  \n1. Correct obvious text errors (grammar) and typos.  \n2. Add proper punctuation and capitalization  \n3. Break text into logical paragraphs if it can bring more simplicity to the text  \n4. NEVER change the meaning or add your own interpretation or thinking. I don't care about that; Correct the text and returns it as your output. Add nothing more;  \n5. NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.  \n6. NEVER add headers, titles, summaries, or explanations. NEVER  \n7. Remove filler words (um, uh, er) - nothing else  \n8. NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.  \n9. Your response MUST contain ONLY the improved text. So never never add anything else before or after the transcript itself.  \n10. You are allowed to modify the text only to add correctness to the meaning of the text. 10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected.", 'thinking': 'Okay, let\'s tackle this transcript. The user wants me to correct spelling and grammar mistakes, add proper punctuation, break into paragraphs, and not add anything else. First, I\'ll read through the original text to understand the context.\n\nThe original transcript starts with "/think" which might be a placeholder. The user provided the original text, but in the history, the assistant responded with "/think". So I need to ignore that and focus on the actual transcript given by the user. Wait, the user\'s message ends with "Original transcript:" followed by the text. Let me check again.\n\nLooking back, the user\'s message includes the original transcript as:\n\n"/think\nCRITICAL RULES - VIOLATIONS WILL CAUSE REJECTION:\n1.  Correct obvious text errors (grammar) and typos.\n2.  Add proper punctuation and capitalization\n3.  Break text into logical paragraphs if it can brings more simplicity to the text\n4.  NEVER change the meaning or add your own interpretation or thinking. I don\'t care about that; Correct the text and returns it as your output. Add nothing more;\n5   NEVER add ANY words, phrases, or content not in the original. Don\'t add your thinking process or analysis either.\n6.  NEVER add headers, titles, summaries, or explanations. NEVER\n7.  Remove filler words (um, uh, er) - nothing else\n8.  NEVER add ANY words, phrases, or content not in the original. Don\'t add your thinking process or analysis either.\n9.  Your response MUST contain ONLY the improved text.  \nSo nerver nerver add anything else before or after the transcript itself.\n10. You are allowed to modify the text only to add correctness to the meaning of the text.\n10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected"\n\nThen the user provided the original transcript as:\n\n"/think\nCRITICAL RULES - VIOLATIONS WILL CAUSE REJECTION:\n1.  Correct obvious text errors (grammar) and typos.\n2.  Add proper punctuation and capitalization\n3.  Break text into logical paragraphs if it can brings more simplicity to the text\n4.  NEVER change the meaning or add your own interpretation or thinking. I don\'t care about that; Correct the text and returns it as your output. Add nothing more;\n5   NEVER add ANY words, phrases, or content not in the original. Don\'t add your thinking process or analysis either.\n6.  NEVER add headers, titles, summaries, or explanations. NEVER\n7.  Remove filler words (um, uh, er) - nothing else\n8.  NEVER add ANY words, phrases, or content not in the original. Don\'t add your thinking process or analysis either.\n9.  Your response MUST contain ONLY the improved text.  \nSo nerver nerver add anything else before or after the transcript itself.\n10. You are allowed to modify the text only to add correctness to the meaning of the text.\n10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected"\n\nWait, the user\'s original transcript is actually the same as the rules they provided. So the transcript is the rules themselves. But the user wants me to correct the spelling and grammar in that text. However, the text is in the form of rules, which might be a bit tricky. Let me check for any obvious errors.\n\nLooking at the text:\n\n- The first rule starts with "1.  Correct obvious text errors (grammar) and typos." – the hyphen is correct, but maybe the spacing? Maybe "1. Correct obvious text errors (grammar) and typos." – the hyphen is there, but maybe the space after the hyphen? Not sure. But the user might consider that acceptable.\n\n- Rule 2: "Add proper punctuation and capitalization" – that\'s correct.\n\n- Rule 3: "Break text into logical paragraphs if it can brings more simplicity to the text" – "can brings" should be "can bring". So that\'s a typo.\n\n- Rule 4: "NEVER change the meaning or add your own interpretation or thinking. I don\'t care about that; Correct the text and returns it as your output. Add nothing more;" – "returns it as your output" should be "returns it as your own output"? Or maybe "returns it as your output"? The original says "returns it as your output", which is correct.\n\n- Rule 5: "NEVER add ANY words, phrases, or content not in the original. Don\'t add your thinking process or analysis either." – the original has "Don\'t add your thinking process or analysis either." – the comma is missing after "either." So that\'s a punctuation error.\n\n- Rule 6: "NEVER add headers, titles, summaries, or explanations. NEVER" – the second "NEVER" is repeated. Maybe it\'s a typo, but the user might consider that acceptable.\n\n- Rule 7: "Remove filler words (um, uh, er) - nothing else" – correct.\n\n- Rule 8: "NEVER add ANY words, phrases, or content not in the original. Don\'t add your thinking process or analysis either." – same as rule 5, but maybe the comma is missing.\n\n- Rule 9: "Your response MUST contain ONLY the improved text. So nerver nerver add anything else before or after the transcript itself." – "So nerver nerver" is a typo. Should be "So never never" or "So never never"? Probably "So never never" is correct.\n\n- Rule 10: "You are allowed to modify the text only to add correctness to the meaning of the text. 10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected." – the second "10." is missing a comma. So "10. If..." is correct.\n\nSo the main corrections are:\n\n- In rule 3: "can brings" → "can bring"\n\n- In rule 5: "Don\'t add your thinking process or analysis either." → "Don\'t add your thinking process or analysis either."\n\n- In rule 6: "NEVER add headers, titles, summaries, or explanations. NEVER" → "NEVER add headers, titles, summaries, or explanations. NEVER" – but the second "NEVER" is repeated. Maybe it\'s a typo, but the user might accept it.\n\n- In rule 9: "So nerver nerver" → "So never never"\n\n- In rule 10: "10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected." → "10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected." – the comma is missing after "text".\n\nAlso, check for other typos. For example, in rule 3, "can brings" → "can bring".\n\nSo the corrected text would have these changes. Now, the user wants the corrected text without any additional text. So I need to present the corrected rules as the final answer.\n', 'done': True, 'done_reason': 'stop', 'context': [151644, 8948, 271, 2610, 525, 458, 6203, 15235, 389, 42429, 323, 31428, 13, 4615, 3383, 374, 311, 4396, 279, 1467, 1172, 323, 1172, 979, 5871, 13, 358, 1079, 537, 10161, 1128, 498, 1744, 315, 279, 1467, 13866, 421, 498, 1075, 476, 537, 26, 8278, 4396, 279, 42429, 323, 31428, 20643, 26, 715, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 55025, 912, 61369, 31747, 1075, 330, 8420, 594, 279, 12944, 35715, 2974, 476, 4113, 4428, 715, 23, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 271, 67783, 37439, 4769, 26687, 3168, 26465, 44840, 1479, 15762, 13, 5664, 15814, 87938, 15762, 91892, 56482, 2726, 48264, 3168, 21116, 16383, 40347, 24787, 25, 151645, 198, 151644, 872, 198, 18395, 35715, 1447, 608, 26865, 151645, 198, 151644, 77091, 198, 151667, 198, 32313, 11, 1077, 594, 21403, 419, 35715, 13, 576, 1196, 6801, 752, 311, 4396, 42429, 323, 31428, 20643, 11, 912, 6169, 61503, 11, 1438, 1119, 42643, 11, 323, 537, 912, 4113, 770, 13, 5512, 11, 358, 3278, 1349, 1526, 279, 4024, 1467, 311, 3535, 279, 2266, 382, 785, 4024, 35715, 8471, 448, 3521, 26865, 1, 892, 2578, 387, 264, 5878, 13, 576, 1196, 3897, 279, 4024, 1467, 11, 714, 304, 279, 3840, 11, 279, 17847, 16441, 448, 3521, 26865, 3263, 2055, 358, 1184, 311, 10034, 429, 323, 5244, 389, 279, 5042, 35715, 2661, 553, 279, 1196, 13, 13824, 11, 279, 1196, 594, 1943, 10335, 448, 330, 18395, 35715, 2974, 8110, 553, 279, 1467, 13, 6771, 752, 1779, 1549, 382, 22464, 1182, 11, 279, 1196, 594, 1943, 5646, 279, 4024, 35715, 438, 1447, 3115, 26865, 198, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 23, 13, 220, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 1837, 12209, 279, 1196, 3897, 279, 4024, 35715, 438, 1447, 3115, 26865, 198, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 23, 13, 220, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 1837, 14190, 11, 279, 1196, 594, 4024, 35715, 374, 3520, 279, 1852, 438, 279, 5601, 807, 3897, 13, 2055, 279, 35715, 374, 279, 5601, 5577, 13, 1988, 279, 1196, 6801, 752, 311, 4396, 279, 42429, 323, 31428, 304, 429, 1467, 13, 4354, 11, 279, 1467, 374, 304, 279, 1352, 315, 5601, 11, 892, 2578, 387, 264, 2699, 33453, 13, 6771, 752, 1779, 369, 894, 8036, 5975, 382, 22464, 518, 279, 1467, 1447, 12, 576, 1156, 5912, 8471, 448, 330, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 1189, 1365, 279, 6275, 14769, 374, 4396, 11, 714, 7196, 279, 25943, 30, 10696, 330, 16, 13, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 1189, 1365, 279, 6275, 14769, 374, 1052, 11, 714, 7196, 279, 3550, 1283, 279, 6275, 14769, 30, 2806, 2704, 13, 1988, 279, 1196, 2578, 2908, 429, 21555, 382, 12, 18100, 220, 17, 25, 330, 2212, 6169, 61503, 323, 6722, 2022, 1, 1365, 429, 594, 4396, 382, 12, 18100, 220, 18, 25, 330, 22524, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 1, 1365, 330, 4814, 12434, 1, 1265, 387, 330, 4814, 4446, 3263, 2055, 429, 594, 264, 85105, 382, 12, 18100, 220, 19, 25, 330, 3944, 3763, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 10892, 1365, 330, 4216, 432, 438, 697, 2550, 1, 1265, 387, 330, 4216, 432, 438, 697, 1828, 2550, 43869, 2521, 7196, 330, 4216, 432, 438, 697, 2550, 43869, 576, 4024, 2727, 330, 4216, 432, 438, 697, 2550, 497, 892, 374, 4396, 382, 12, 18100, 220, 20, 25, 330, 3944, 3763, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 1189, 1365, 279, 4024, 702, 330, 8002, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 1189, 1365, 279, 31683, 374, 7402, 1283, 330, 49898, 1189, 2055, 429, 594, 264, 61503, 1465, 382, 12, 18100, 220, 21, 25, 330, 3944, 3763, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 1, 1365, 279, 2086, 330, 3944, 3763, 1, 374, 11504, 13, 10696, 432, 594, 264, 85105, 11, 714, 279, 1196, 2578, 2908, 429, 21555, 382, 12, 18100, 220, 22, 25, 330, 13021, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 1, 1365, 4396, 382, 12, 18100, 220, 23, 25, 330, 3944, 3763, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 1189, 1365, 1852, 438, 5912, 220, 20, 11, 714, 7196, 279, 31683, 374, 7402, 382, 12, 18100, 220, 24, 25, 330, 7771, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2055, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 1189, 1365, 330, 4416, 308, 2836, 308, 2836, 1, 374, 264, 85105, 13, 12260, 387, 330, 4416, 2581, 2581, 1, 476, 330, 4416, 2581, 2581, 43869, 37154, 330, 4416, 2581, 2581, 1, 374, 4396, 382, 12, 18100, 220, 16, 15, 25, 330, 2610, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 13, 220, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 1189, 1365, 279, 2086, 330, 16, 15, 1189, 374, 7402, 264, 31683, 13, 2055, 330, 16, 15, 13, 1416, 21215, 374, 4396, 382, 4416, 279, 1887, 50379, 525, 1447, 12, 758, 5912, 220, 18, 25, 330, 4814, 12434, 1, 11397, 330, 4814, 4446, 1837, 12, 758, 5912, 220, 20, 25, 330, 8002, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 1189, 11397, 330, 8002, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 2217, 12, 758, 5912, 220, 21, 25, 330, 3944, 3763, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 1, 11397, 330, 3944, 3763, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 1, 1365, 714, 279, 2086, 330, 3944, 3763, 1, 374, 11504, 13, 10696, 432, 594, 264, 85105, 11, 714, 279, 1196, 2578, 4193, 432, 382, 12, 758, 5912, 220, 24, 25, 330, 4416, 308, 2836, 308, 2836, 1, 11397, 330, 4416, 2581, 2581, 1837, 12, 758, 5912, 220, 16, 15, 25, 330, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 1189, 11397, 330, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 1189, 1365, 279, 31683, 374, 7402, 1283, 330, 1318, 11436, 13394, 11, 1779, 369, 1008, 13580, 966, 13, 1752, 3110, 11, 304, 5912, 220, 18, 11, 330, 4814, 12434, 1, 11397, 330, 4814, 4446, 11436, 4416, 279, 35965, 1467, 1035, 614, 1493, 4344, 13, 4695, 11, 279, 1196, 6801, 279, 35965, 1467, 2041, 894, 5107, 1467, 13, 2055, 358, 1184, 311, 3042, 279, 35965, 5601, 438, 279, 1590, 4226, 624, 151668, 271, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 25, 2303, 16, 13, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 13, 2303, 17, 13, 2691, 6169, 61503, 323, 6722, 2022, 2303, 18, 13, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 4446, 803, 38975, 311, 279, 1467, 2303, 19, 13, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 26, 2303, 20, 13, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 13, 2303, 21, 13, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 2303, 22, 13, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 2303, 23, 13, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 13, 2303, 24, 13, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2055, 2581, 2581, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 13, 2303, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 13, 220, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 13], 'total_duration': 42849003458, 'load_duration': 2228674792, 'prompt_eval_count': 332, 'prompt_eval_duration': 857650750, 'eval_count': 1739, 'eval_duration': 39761609459}...
2025-07-15 13:02:57,162 - celery.redirected - WARNING - First part (thinking):
2025-07-15 13:02:57,162 - celery.redirected - WARNING -  
2025-07-15 13:02:57,162 - celery.redirected - WARNING - Okay, let's tackle this transcript. The user wants me to correct spelling and grammar mistakes, add proper punctuation, break into paragraphs, and not add anything else. First, I'll read through the original text to understand the context.

The original transcript starts with "/think" which might be a placeholder. The user provided the original text, but in the history, the assistant responded with "/think". So I need to ignore that and focus on the actual transcript given by the user. Wait, the user's message ends with "Original transcript:" followed by the text. Let me check again.

Looking back, the user's message includes the original transcript as:

"/think
CRITICAL RULES - VIOLATIONS WILL CAUSE REJECTION:
1.  Correct obvious text errors (grammar) and typos.
2.  Add proper punctuation and capitalization
3.  Break text into logical paragraphs if it can brings more simplicity to the text
4.  NEVER change the meaning or add your own interpretation or thinking. I don't care about that; Correct the text and returns it as your output. Add nothing more;
5   NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.
6.  NEVER add headers, titles, summaries, or explanations. NEVER
7.  Remove filler words (um, uh, er) - nothing else
8.  NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.
9.  Your response MUST contain ONLY the improved text.  
So nerver nerver add anything else before or after the transcript itself.
10. You are allowed to modify the text only to add correctness to the meaning of the text.
10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected"

Then the user provided the original transcript as:

"/think
CRITICAL RULES - VIOLATIONS WILL CAUSE REJECTION:
1.  Correct obvious text errors (grammar) and typos.
2.  Add proper punctuation and capitalization
3.  Break text into logical paragraphs if it can brings more simplicity to the text
4.  NEVER change the meaning or add your own interpretation or thinking. I don't care about that; Correct the text and returns it as your output. Add nothing more;
5   NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.
6.  NEVER add headers, titles, summaries, or explanations. NEVER
7.  Remove filler words (um, uh, er) - nothing else
8.  NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.
9.  Your response MUST contain ONLY the improved text.  
So nerver nerver add anything else before or after the transcript itself.
10. You are allowed to modify the text only to add correctness to the meaning of the text.
10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected"

Wait, the user's original transcript is actually the same as the rules they provided. So the transcript is the rules themselves. But the user wants me to correct the spelling and grammar in that text. However, the text is in the form of rules, which might be a bit tricky. Let me check for any obvious errors.

Looking at the text:

- The first rule starts with "1.  Correct obvious text errors (grammar) and typos." – the hyphen is correct, but maybe the spacing? Maybe "1. Correct obvious text errors (grammar) and typos." – the hyphen is there, but maybe the space after the hyphen? Not sure. But the user might consider that acceptable.

- Rule 2: "Add proper punctuation and capitalization" – that's correct.

- Rule 3: "Break text into logical paragraphs if it can brings more simplicity to the text" – "can brings" should be "can bring". So that's a typo.

- Rule 4: "NEVER change the meaning or add your own interpretation or thinking. I don't care about that; Correct the text and returns it as your output. Add nothing more;" – "returns it as your output" should be "returns it as your own output"? Or maybe "returns it as your output"? The original says "returns it as your output", which is correct.

- Rule 5: "NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either." – the original has "Don't add your thinking process or analysis either." – the comma is missing after "either." So that's a punctuation error.

- Rule 6: "NEVER add headers, titles, summaries, or explanations. NEVER" – the second "NEVER" is repeated. Maybe it's a typo, but the user might consider that acceptable.

- Rule 7: "Remove filler words (um, uh, er) - nothing else" – correct.

- Rule 8: "NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either." – same as rule 5, but maybe the comma is missing.

- Rule 9: "Your response MUST contain ONLY the improved text. So nerver nerver add anything else before or after the transcript itself." – "So nerver nerver" is a typo. Should be "So never never" or "So never never"? Probably "So never never" is correct.

- Rule 10: "You are allowed to modify the text only to add correctness to the meaning of the text. 10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected." – the second "10." is missing a comma. So "10. If..." is correct.

So the main corrections are:

- In rule 3: "can brings" → "can bring"

- In rule 5: "Don't add your thinking process or analysis either." → "Don't add your thinking process or analysis either."

- In rule 6: "NEVER add headers, titles, summaries, or explanations. NEVER" → "NEVER add headers, titles, summaries, or explanations. NEVER" – but the second "NEVER" is repeated. Maybe it's a typo, but the user might accept it.

- In rule 9: "So nerver nerver" → "So never never"

- In rule 10: "10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected." → "10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected." – the comma is missing after "text".

Also, check for other typos. For example, in rule 3, "can brings" → "can bring".

So the corrected text would have these changes. Now, the user wants the corrected text without any additional text. So I need to present the corrected rules as the final answer.
2025-07-15 13:02:57,162 - celery.redirected - WARNING - Second part (response):
2025-07-15 13:02:57,162 - celery.redirected - WARNING -  
2025-07-15 13:02:57,162 - celery.redirected - WARNING - CRITICAL RULES - VIOLATIONS WILL CAUSE REJECTION:  
1. Correct obvious text errors (grammar) and typos.  
2. Add proper punctuation and capitalization  
3. Break text into logical paragraphs if it can bring more simplicity to the text  
4. NEVER change the meaning or add your own interpretation or thinking. I don't care about that; Correct the text and returns it as your output. Add nothing more;  
5. NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.  
6. NEVER add headers, titles, summaries, or explanations. NEVER  
7. Remove filler words (um, uh, er) - nothing else  
8. NEVER add ANY words, phrases, or content not in the original. Don't add your thinking process or analysis either.  
9. Your response MUST contain ONLY the improved text. So never never add anything else before or after the transcript itself.  
10. You are allowed to modify the text only to add correctness to the meaning of the text. 10. If you add ANYTHING beyond the meaning of the original text, your response will be rejected.
2025-07-15 13:02:57,205 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Transcription complete, awaiting user review
2025-07-15 13:02:57,491 - celery.app.trace - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[8ea49e40-f0da-4159-8255-dbb0807b7113] succeeded in 59.82258379101404s: {'status': 'success', 'audio_id': '509a5257-3b80-4573-9499-806d031da50e'}
2025-07-15 13:02:57,496 - repositories.job_repository - INFO - Updated job b8c38903-f764-4949-ada9-1b00d8e7b6bf status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:02:57,496 - workers.base_task - INFO - Task 8ea49e40-f0da-4159-8255-dbb0807b7113 cleanup completed
2025-07-15 13:02:57,496 - workers.celery_app - INFO - Finished task workers.tasks.transcription_tasks.transcribe_audio [8ea49e40-f0da-4159-8255-dbb0807b7113] with state: SUCCESS
2025-07-15 13:03:43,437 - celery.worker.strategy - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[1d895184-dd1b-4d6f-a082-3c03b08bd355] received
2025-07-15 13:03:43,437 - workers.celery_app - INFO - Starting task workers.tasks.transcription_tasks.transcribe_audio [1d895184-dd1b-4d6f-a082-3c03b08bd355]
2025-07-15 13:03:43,444 - repositories.job_repository - INFO - Updated job a44af63b-7c75-4b33-aa8c-2aa0d89adef1 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:03:43,444 - workers.base_task - INFO - Task 1d895184-dd1b-4d6f-a082-3c03b08bd355 initialized successfully
2025-07-15 13:03:43,444 - workers.base_task - INFO - Progress: 1/3 (33.3%) - Starting transcription
2025-07-15 13:03:43,471 - services.transcription_service - INFO - Transcribing audio_files/2025/07/15/audio_20250715_130343_b111a08e.m4a with whisper
2025-07-15 13:03:43,471 - celery.redirected - WARNING - Using device for whisper: mps
2025-07-15 13:03:43,471 - services.transcription_service - INFO - Loading Whisper model: medium
2025-07-15 13:03:48,474 - py.warnings - WARNING - /Users/genereux/Dev/pegasus/backend/.venv/lib/python3.11/site-packages/whisper/transcribe.py:132: UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn("FP16 is not supported on CPU; using FP32 instead")

huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:03:48,780 - celery.redirected - WARNING -   0%|          | 0/11990 [00:00<?, ?frames/s]
2025-07-15 13:03:59,408 - celery.redirected - WARNING -   0%|          | 0/11990 [00:10<?, ?frames/s]
huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:03:59,495 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Original transcription complete, awaiting transcript improvement
2025-07-15 13:03:59,521 - services.ollama_service - INFO - Improving transcript with Ollama
2025-07-15 13:03:59,548 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-07-15 13:04:13,615 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-07-15 13:04:13,622 - services.ollama_service - INFO - Ollama completion successful: Result: {'model': 'qwen3:1.7b', 'created_at': '2025-07-15T11:04:13.594695Z', 'response': "/think  \nThe user has provided a transcript with some errors. Let's correct them according to the rules:\n\n1. Correct obvious text errors (grammar) and typos.  \n2. Add proper punctuation and capitalization.  \n3. Break text into logical paragraphs.  \n4. Never change the meaning or add interpretation.  \n5. Never add any words, phrases, or content not in the original.  \n6. Never add headers, titles, summaries, or explanations.  \n7. Remove filler words (um, uh, er).  \n8. Respond with only the corrected text.  \n\nOriginal transcript:  \n /think  \nThe user has provided a transcript with some errors. Let's correct them according to the rules:  \n\n1. Correct obvious text errors (grammar) and typos.  \n2. Add proper punctuation and capitalization.  \n3. Break text into logical paragraphs.  \n4. Never change the meaning or add interpretation.  \n5. Never add any words, phrases, or content not in the original.  \n6. Never add headers, titles, summaries, or explanations.  \n7. Remove filler words (um, uh, er).  \n8. Respond with only the corrected text.  \n\nCorrected transcript:  \n /think  \nThe user has provided a transcript with some errors. Let's correct them according to the rules:  \n\n1. Correct obvious text errors (grammar) and typos.  \n2. Add proper punctuation and capitalization.  \n3. Break text into logical paragraphs.  \n4. Never change the meaning or add interpretation.  \n5. Never add any words, phrases, or content not in the original.  \n6. Never add headers, titles, summaries, or explanations.  \n7. Remove filler words (um, uh, er).  \n8. Respond with only the corrected text.  \n\nCorrected text:  \n /think  \nThe user has provided a transcript with some errors. Let's correct them according to the rules:  \n\n1. Correct obvious text errors (grammar) and typos.  \n2. Add proper punctuation and capitalization.  \n3. Break text into logical paragraphs.  \n4. Never change the meaning or add interpretation.  \n5. Never add any words, phrases, or content not in the original.  \n6. Never add headers, titles, summaries, or explanations.  \n7. Remove filler words (um, uh, er).  \n8. Respond with only the corrected text.", 'thinking': 'Okay, let\'s tackle this transcript. The user wants me to correct any spelling and grammar mistakes, add proper punctuation, break into paragraphs, and keep the original meaning. First, I\'ll read through the original text to identify any issues.\n\nThe original starts with "/think" which might be a placeholder. Then there\'s a transcript with some errors. Let me check each line.\n\nLine 1: "/think" – maybe it\'s a command, but the user didn\'t provide the full transcript. Wait, the user\'s message ends with "Original transcript:" and then the provided text. Wait, the user\'s input is:\n\nOriginal transcript:\n\n /think\n', 'done': True, 'done_reason': 'stop', 'context': [151644, 8948, 271, 2610, 525, 458, 6203, 15235, 389, 42429, 323, 31428, 13, 4615, 3383, 374, 311, 4396, 279, 1467, 1172, 323, 1172, 979, 5871, 13, 358, 1079, 537, 10161, 1128, 498, 1744, 315, 279, 1467, 13866, 421, 498, 1075, 476, 537, 26, 8278, 4396, 279, 42429, 323, 31428, 20643, 26, 715, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 55025, 912, 61369, 31747, 1075, 330, 8420, 594, 279, 12944, 35715, 2974, 476, 4113, 4428, 715, 23, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 271, 67783, 37439, 4769, 26687, 3168, 26465, 44840, 1479, 15762, 13, 5664, 15814, 87938, 15762, 91892, 56482, 2726, 48264, 3168, 21116, 16383, 40347, 24787, 25, 151645, 198, 151644, 872, 198, 18395, 35715, 1447, 608, 26865, 151645, 198, 151644, 77091, 198, 151667, 198, 32313, 11, 1077, 594, 21403, 419, 35715, 13, 576, 1196, 6801, 752, 311, 4396, 894, 42429, 323, 31428, 20643, 11, 912, 6169, 61503, 11, 1438, 1119, 42643, 11, 323, 2506, 279, 4024, 7290, 13, 5512, 11, 358, 3278, 1349, 1526, 279, 4024, 1467, 311, 10542, 894, 4714, 382, 785, 4024, 8471, 448, 3521, 26865, 1, 892, 2578, 387, 264, 5878, 13, 5005, 1052, 594, 264, 35715, 448, 1045, 5975, 13, 6771, 752, 1779, 1817, 1555, 382, 2460, 220, 16, 25, 3521, 26865, 1, 1365, 7196, 432, 594, 264, 3210, 11, 714, 279, 1196, 3207, 944, 3410, 279, 2480, 35715, 13, 13824, 11, 279, 1196, 594, 1943, 10335, 448, 330, 18395, 35715, 2974, 323, 1221, 279, 3897, 1467, 13, 13824, 11, 279, 1196, 594, 1946, 374, 1447, 18395, 35715, 1447, 608, 26865, 198, 151668, 271, 608, 26865, 2303, 785, 1196, 702, 3897, 264, 35715, 448, 1045, 5975, 13, 6771, 594, 4396, 1105, 4092, 311, 279, 5601, 1447, 16, 13, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 13, 2303, 17, 13, 2691, 6169, 61503, 323, 6722, 2022, 13, 2303, 18, 13, 15623, 1467, 1119, 19819, 42643, 13, 2303, 19, 13, 14695, 2297, 279, 7290, 476, 912, 22845, 13, 2303, 20, 13, 14695, 912, 894, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 2303, 21, 13, 14695, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 2303, 22, 13, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 568, 2303, 23, 13, 39533, 448, 1172, 279, 35965, 1467, 13, 18611, 18395, 35715, 25, 2303, 608, 26865, 2303, 785, 1196, 702, 3897, 264, 35715, 448, 1045, 5975, 13, 6771, 594, 4396, 1105, 4092, 311, 279, 5601, 25, 18611, 16, 13, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 13, 2303, 17, 13, 2691, 6169, 61503, 323, 6722, 2022, 13, 2303, 18, 13, 15623, 1467, 1119, 19819, 42643, 13, 2303, 19, 13, 14695, 2297, 279, 7290, 476, 912, 22845, 13, 2303, 20, 13, 14695, 912, 894, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 2303, 21, 13, 14695, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 2303, 22, 13, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 568, 2303, 23, 13, 39533, 448, 1172, 279, 35965, 1467, 13, 18611, 33092, 291, 35715, 25, 2303, 608, 26865, 2303, 785, 1196, 702, 3897, 264, 35715, 448, 1045, 5975, 13, 6771, 594, 4396, 1105, 4092, 311, 279, 5601, 25, 18611, 16, 13, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 13, 2303, 17, 13, 2691, 6169, 61503, 323, 6722, 2022, 13, 2303, 18, 13, 15623, 1467, 1119, 19819, 42643, 13, 2303, 19, 13, 14695, 2297, 279, 7290, 476, 912, 22845, 13, 2303, 20, 13, 14695, 912, 894, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 2303, 21, 13, 14695, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 2303, 22, 13, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 568, 2303, 23, 13, 39533, 448, 1172, 279, 35965, 1467, 13, 18611, 33092, 291, 1467, 25, 2303, 608, 26865, 2303, 785, 1196, 702, 3897, 264, 35715, 448, 1045, 5975, 13, 6771, 594, 4396, 1105, 4092, 311, 279, 5601, 25, 18611, 16, 13, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 13, 2303, 17, 13, 2691, 6169, 61503, 323, 6722, 2022, 13, 2303, 18, 13, 15623, 1467, 1119, 19819, 42643, 13, 2303, 19, 13, 14695, 2297, 279, 7290, 476, 912, 22845, 13, 2303, 20, 13, 14695, 912, 894, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 2303, 21, 13, 14695, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 2303, 22, 13, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 568, 2303, 23, 13, 39533, 448, 1172, 279, 35965, 1467, 13], 'total_duration': 14031687167, 'load_duration': 29543417, 'prompt_eval_count': 332, 'prompt_eval_duration': 882147250, 'eval_count': 633, 'eval_duration': 13118005584}...
2025-07-15 13:04:13,622 - celery.redirected - WARNING - First part (thinking):
2025-07-15 13:04:13,622 - celery.redirected - WARNING -  
2025-07-15 13:04:13,622 - celery.redirected - WARNING - Okay, let's tackle this transcript. The user wants me to correct any spelling and grammar mistakes, add proper punctuation, break into paragraphs, and keep the original meaning. First, I'll read through the original text to identify any issues.

The original starts with "/think" which might be a placeholder. Then there's a transcript with some errors. Let me check each line.

Line 1: "/think" – maybe it's a command, but the user didn't provide the full transcript. Wait, the user's message ends with "Original transcript:" and then the provided text. Wait, the user's input is:

Original transcript:

 /think
2025-07-15 13:04:13,622 - celery.redirected - WARNING - Second part (response):
2025-07-15 13:04:13,622 - celery.redirected - WARNING -  
2025-07-15 13:04:13,623 - celery.redirected - WARNING - /think  
The user has provided a transcript with some errors. Let's correct them according to the rules:

1. Correct obvious text errors (grammar) and typos.  
2. Add proper punctuation and capitalization.  
3. Break text into logical paragraphs.  
4. Never change the meaning or add interpretation.  
5. Never add any words, phrases, or content not in the original.  
6. Never add headers, titles, summaries, or explanations.  
7. Remove filler words (um, uh, er).  
8. Respond with only the corrected text.  

Original transcript:  
 /think  
The user has provided a transcript with some errors. Let's correct them according to the rules:  

1. Correct obvious text errors (grammar) and typos.  
2. Add proper punctuation and capitalization.  
3. Break text into logical paragraphs.  
4. Never change the meaning or add interpretation.  
5. Never add any words, phrases, or content not in the original.  
6. Never add headers, titles, summaries, or explanations.  
7. Remove filler words (um, uh, er).  
8. Respond with only the corrected text.  

Corrected transcript:  
 /think  
The user has provided a transcript with some errors. Let's correct them according to the rules:  

1. Correct obvious text errors (grammar) and typos.  
2. Add proper punctuation and capitalization.  
3. Break text into logical paragraphs.  
4. Never change the meaning or add interpretation.  
5. Never add any words, phrases, or content not in the original.  
6. Never add headers, titles, summaries, or explanations.  
7. Remove filler words (um, uh, er).  
8. Respond with only the corrected text.  

Corrected text:  
 /think  
The user has provided a transcript with some errors. Let's correct them according to the rules:  

1. Correct obvious text errors (grammar) and typos.  
2. Add proper punctuation and capitalization.  
3. Break text into logical paragraphs.  
4. Never change the meaning or add interpretation.  
5. Never add any words, phrases, or content not in the original.  
6. Never add headers, titles, summaries, or explanations.  
7. Remove filler words (um, uh, er).  
8. Respond with only the corrected text.
2025-07-15 13:04:13,635 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Transcription complete, awaiting user review
2025-07-15 13:04:13,882 - celery.app.trace - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[1d895184-dd1b-4d6f-a082-3c03b08bd355] succeeded in 30.444940540997777s: {'status': 'success', 'audio_id': '2b9c7b3d-a6f2-487b-a675-c7d08517589e'}
2025-07-15 13:04:13,886 - repositories.job_repository - INFO - Updated job a44af63b-7c75-4b33-aa8c-2aa0d89adef1 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:04:13,886 - workers.base_task - INFO - Task 1d895184-dd1b-4d6f-a082-3c03b08bd355 cleanup completed
2025-07-15 13:04:13,886 - workers.celery_app - INFO - Finished task workers.tasks.transcription_tasks.transcribe_audio [1d895184-dd1b-4d6f-a082-3c03b08bd355] with state: SUCCESS
2025-07-15 13:09:49,863 - celery.worker.strategy - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[3644494f-92b2-4e2a-95e9-cc5372d8b7df] received
2025-07-15 13:09:49,864 - workers.celery_app - INFO - Starting task workers.tasks.transcription_tasks.transcribe_audio [3644494f-92b2-4e2a-95e9-cc5372d8b7df]
2025-07-15 13:09:49,869 - repositories.job_repository - INFO - Updated job 2869cb9e-3369-40c3-8f88-c13d292817e9 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:09:49,869 - workers.base_task - INFO - Task 3644494f-92b2-4e2a-95e9-cc5372d8b7df initialized successfully
2025-07-15 13:09:49,869 - workers.base_task - INFO - Progress: 1/3 (33.3%) - Starting transcription
2025-07-15 13:09:49,893 - services.transcription_service - INFO - Transcribing audio_files/2025/07/15/audio_20250715_130949_b8630e18.m4a with whisper
2025-07-15 13:09:49,893 - celery.redirected - WARNING - Using device for whisper: mps
2025-07-15 13:09:49,893 - services.transcription_service - INFO - Loading Whisper model: medium
2025-07-15 13:09:55,053 - py.warnings - WARNING - /Users/genereux/Dev/pegasus/backend/.venv/lib/python3.11/site-packages/whisper/transcribe.py:132: UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn("FP16 is not supported on CPU; using FP32 instead")

huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:09:55,304 - celery.redirected - WARNING -   0%|          | 0/11902 [00:00<?, ?frames/s]
2025-07-15 13:10:03,621 - celery.redirected - WARNING -  18%|#8        | 2190/11902 [00:08<00:36, 263.33frames/s]
2025-07-15 13:10:10,701 - celery.redirected - WARNING -  36%|###6      | 4290/11902 [00:15<00:27, 281.59frames/s]
2025-07-15 13:10:18,239 - celery.redirected - WARNING -  57%|#####6    | 6740/11902 [00:22<00:17, 301.34frames/s]
2025-07-15 13:10:26,088 - celery.redirected - WARNING -  76%|#######6  | 9062/11902 [00:30<00:09, 299.13frames/s]
2025-07-15 13:10:33,721 - celery.redirected - WARNING - 100%|##########| 11902/11902 [00:38<00:00, 325.34frames/s]
2025-07-15 13:10:33,721 - celery.redirected - WARNING - 100%|##########| 11902/11902 [00:38<00:00, 309.81frames/s]
huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:10:33,836 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Original transcription complete, awaiting transcript improvement
2025-07-15 13:10:33,861 - services.ollama_service - INFO - Improving transcript with Ollama
2025-07-15 13:10:33,882 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-07-15 13:10:59,142 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-07-15 13:10:59,143 - services.ollama_service - INFO - Ollama completion successful: Result: {'model': 'qwen3:1.7b', 'created_at': '2025-07-15T11:10:59.132691Z', 'response': "So I was saying that yesterday I spent a lot of time on OREO. Yesterday was the 14th of July. I was at home with my wife and my child. I believe that I made some progress yesterday on OREO. My main task was to test practically if we can run a large language model. Even a small one on a mobile phone. So I was able to achieve that on my Samsung phone. But the experiment didn't succeed. Not only is the inference time high, but the quality of the responses produced by the local large language model is really bad.", 'thinking': 'Okay, let\'s tackle this transcript. The user wants me to correct spelling and grammar mistakes while keeping the original meaning. First, I\'ll read through the text carefully.\n\nThe first sentence starts with "So I was saying that yesterday..." Maybe "So I was saying" is okay, but "I was saying" is more natural. Then "Yesterday was 14th of July." The date format is correct, but "14th" should be "14th" with a hyphen, but in the original, it\'s written as "14th of July." Wait, the original has "14th of July" with a space. Maybe that\'s correct. \n\nNext, "I was at home with my wife and my kid." The comma after "kid" might be needed. Also, "my wife and my kid" – should that be "my wife and my child"? The original uses "kid," which is a slang term for child, but "child" is more formal. Maybe "my child" is better.\n\nThen, "I believe that... I believe that I did some progress yesterday on OREO." The structure here is a bit awkward. Maybe rephrase to "I believe that I made some progress yesterday on OREO." Also, "the experiment wasn\'t a success" – maybe "the experiment didn\'t succeed" is more natural.\n\n"Not only the inference time is a bit high, but the quality of the responses produced by the local large language model is really, really bad." The phrase "not only the inference time" is a bit clunky. Maybe "Not only is the inference time high, but..." to make it flow better. Also, "local large language model" – maybe "local large language model" is correct, but "local" might be redundant if it\'s a specific model. However, the original uses "local," so maybe keep it.\n\nCheck for punctuation: commas, periods, semicolons. The original has some missing commas. For example, after "my wife and my kid" – the original has a comma after "kid," which is correct. \n\nOther points: "the experiment wasn\'t a success" – "wasn\'t" is correct. "Not only the inference time is a bit high" – the structure here is okay, but maybe "Not only is the inference time high" is more concise.\n\nAlso, "the quality of the responses produced by the local large language model is really, really bad." The original uses "really, really bad," which is redundant. Maybe "really bad" is sufficient.\n\nCheck for any other typos or spelling errors. "OREO" is correctly spelled. "Samsung phone" – correct. \n\nSo, the main corrections would be:\n\n1. "So I was saying that yesterday I spent a lot of time on OREO." → "So I was saying that yesterday I spent a lot of time on OREO." (No change needed here.)\n\n2. "Yesterday was 14th of July." → "Yesterday was the 14th of July." (Add "the" before "14th" for proper article.)\n\n3. "I was at home with my wife and my kid." → "I was at home with my wife and my child." (Change "kid" to "child" for formality.)\n\n4. "I believe that... I believe that I did some progress yesterday on OREO." → "I believe that I made some progress yesterday on OREO." (Change "did" to "made" for past tense.)\n\n5. "the experiment wasn\'t a success." → "the experiment didn\'t succeed." (Change "wasn\'t" to "didn\'t succeed" for better flow.)\n\n6. "Not only the inference time is a bit high, but the quality of the responses produced by the local large language model is really, really bad." → "Not only is the inference time high, but the quality of the responses produced by the local large language model is really bad." (Remove "the" before "inference time" and adjust the structure.)\n\nAlso, check for punctuation. The original has a period after "kid," which is correct. The sentence ends with a period.\n\nSo, putting it all together, the corrected text should have these changes.\n', 'done': True, 'done_reason': 'stop', 'context': [151644, 8948, 271, 2610, 525, 458, 6203, 15235, 389, 42429, 323, 31428, 13, 4615, 3383, 374, 311, 4396, 279, 1467, 1172, 323, 1172, 979, 5871, 13, 358, 1079, 537, 10161, 1128, 498, 1744, 315, 279, 1467, 13866, 421, 498, 1075, 476, 537, 26, 8278, 4396, 279, 42429, 323, 31428, 20643, 26, 715, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 55025, 912, 61369, 31747, 1075, 330, 8420, 594, 279, 12944, 35715, 2974, 476, 4113, 4428, 715, 23, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 271, 67783, 37439, 4769, 26687, 3168, 26465, 44840, 1479, 15762, 13, 5664, 15814, 87938, 15762, 91892, 56482, 2726, 48264, 3168, 21116, 16383, 40347, 24787, 25, 151645, 198, 151644, 872, 198, 18395, 35715, 1447, 2055, 358, 572, 5488, 429, 13671, 358, 7391, 264, 2696, 315, 882, 389, 506, 787, 46, 13, 60033, 572, 220, 16, 19, 339, 315, 5768, 13, 1084, 374, 264, 13257, 1588, 304, 9625, 13, 358, 572, 518, 2114, 448, 847, 7403, 323, 847, 10369, 13, 358, 4411, 429, 1112, 358, 4411, 429, 358, 1521, 1045, 5098, 13671, 389, 506, 787, 46, 13, 3017, 1887, 3383, 572, 311, 1273, 31267, 421, 582, 646, 1598, 264, 3460, 4128, 1614, 13, 7418, 264, 2613, 825, 389, 264, 6371, 4540, 13, 2055, 358, 572, 2952, 311, 11075, 429, 389, 847, 18400, 4540, 13, 1988, 279, 9342, 5710, 944, 264, 2393, 13, 2806, 1172, 279, 44378, 882, 374, 264, 2699, 1550, 11, 714, 279, 4271, 315, 279, 14507, 8947, 553, 279, 2205, 3460, 4128, 1614, 374, 2167, 11, 2167, 3873, 13, 608, 26865, 151645, 198, 151644, 77091, 198, 151667, 198, 32313, 11, 1077, 594, 21403, 419, 35715, 13, 576, 1196, 6801, 752, 311, 4396, 42429, 323, 31428, 20643, 1393, 10282, 279, 4024, 7290, 13, 5512, 11, 358, 3278, 1349, 1526, 279, 1467, 15516, 382, 785, 1156, 11652, 8471, 448, 330, 4416, 358, 572, 5488, 429, 13671, 21215, 10696, 330, 4416, 358, 572, 5488, 1, 374, 16910, 11, 714, 330, 40, 572, 5488, 1, 374, 803, 5810, 13, 5005, 330, 50277, 572, 220, 16, 19, 339, 315, 5768, 1189, 576, 2400, 3561, 374, 4396, 11, 714, 330, 16, 19, 339, 1, 1265, 387, 330, 16, 19, 339, 1, 448, 264, 6275, 14769, 11, 714, 304, 279, 4024, 11, 432, 594, 5326, 438, 330, 16, 19, 339, 315, 5768, 1189, 13824, 11, 279, 4024, 702, 330, 16, 19, 339, 315, 5768, 1, 448, 264, 3550, 13, 10696, 429, 594, 4396, 13, 4710, 5847, 11, 330, 40, 572, 518, 2114, 448, 847, 7403, 323, 847, 10369, 1189, 576, 31683, 1283, 330, 63281, 1, 2578, 387, 4362, 13, 7281, 11, 330, 2408, 7403, 323, 847, 10369, 1, 1365, 1265, 429, 387, 330, 2408, 7403, 323, 847, 1682, 43869, 576, 4024, 5711, 330, 63281, 1335, 892, 374, 264, 79912, 4647, 369, 1682, 11, 714, 330, 3048, 1, 374, 803, 15908, 13, 10696, 330, 2408, 1682, 1, 374, 2664, 382, 12209, 11, 330, 40, 4411, 429, 1112, 358, 4411, 429, 358, 1521, 1045, 5098, 13671, 389, 506, 787, 46, 1189, 576, 5944, 1588, 374, 264, 2699, 28759, 13, 10696, 312, 27710, 311, 330, 40, 4411, 429, 358, 1865, 1045, 5098, 13671, 389, 506, 787, 46, 1189, 7281, 11, 330, 1782, 9342, 5710, 944, 264, 2393, 1, 1365, 7196, 330, 1782, 9342, 3207, 944, 11996, 1, 374, 803, 5810, 382, 81155, 1172, 279, 44378, 882, 374, 264, 2699, 1550, 11, 714, 279, 4271, 315, 279, 14507, 8947, 553, 279, 2205, 3460, 4128, 1614, 374, 2167, 11, 2167, 3873, 1189, 576, 17133, 330, 1921, 1172, 279, 44378, 882, 1, 374, 264, 2699, 1185, 69205, 13, 10696, 330, 2623, 1172, 374, 279, 44378, 882, 1550, 11, 714, 21215, 311, 1281, 432, 6396, 2664, 13, 7281, 11, 330, 2438, 3460, 4128, 1614, 1, 1365, 7196, 330, 2438, 3460, 4128, 1614, 1, 374, 4396, 11, 714, 330, 2438, 1, 2578, 387, 47732, 421, 432, 594, 264, 3151, 1614, 13, 4354, 11, 279, 4024, 5711, 330, 2438, 1335, 773, 7196, 2506, 432, 382, 3973, 369, 61503, 25, 76602, 11, 18346, 11, 5234, 26463, 2382, 13, 576, 4024, 702, 1045, 7402, 76602, 13, 1752, 3110, 11, 1283, 330, 2408, 7403, 323, 847, 10369, 1, 1365, 279, 4024, 702, 264, 31683, 1283, 330, 63281, 1335, 892, 374, 4396, 13, 4710, 11409, 3501, 25, 330, 1782, 9342, 5710, 944, 264, 2393, 1, 1365, 330, 16123, 77, 944, 1, 374, 4396, 13, 330, 2623, 1172, 279, 44378, 882, 374, 264, 2699, 1550, 1, 1365, 279, 5944, 1588, 374, 16910, 11, 714, 7196, 330, 2623, 1172, 374, 279, 44378, 882, 1550, 1, 374, 803, 63594, 382, 13394, 11, 330, 1782, 4271, 315, 279, 14507, 8947, 553, 279, 2205, 3460, 4128, 1614, 374, 2167, 11, 2167, 3873, 1189, 576, 4024, 5711, 330, 53660, 11, 2167, 3873, 1335, 892, 374, 47732, 13, 10696, 330, 53660, 3873, 1, 374, 14016, 382, 3973, 369, 894, 1008, 13580, 966, 476, 42429, 5975, 13, 330, 5881, 46, 1, 374, 12440, 67818, 13, 330, 50890, 4540, 1, 1365, 4396, 13, 4710, 4416, 11, 279, 1887, 50379, 1035, 387, 1447, 16, 13, 330, 4416, 358, 572, 5488, 429, 13671, 358, 7391, 264, 2696, 315, 882, 389, 506, 787, 46, 1189, 11397, 330, 4416, 358, 572, 5488, 429, 13671, 358, 7391, 264, 2696, 315, 882, 389, 506, 787, 46, 1189, 320, 2753, 2297, 4362, 1588, 9272, 17, 13, 330, 50277, 572, 220, 16, 19, 339, 315, 5768, 1189, 11397, 330, 50277, 572, 279, 220, 16, 19, 339, 315, 5768, 1189, 320, 2212, 330, 1782, 1, 1573, 330, 16, 19, 339, 1, 369, 6169, 4549, 9272, 18, 13, 330, 40, 572, 518, 2114, 448, 847, 7403, 323, 847, 10369, 1189, 11397, 330, 40, 572, 518, 2114, 448, 847, 7403, 323, 847, 1682, 1189, 320, 4072, 330, 63281, 1, 311, 330, 3048, 1, 369, 1352, 2719, 9272, 19, 13, 330, 40, 4411, 429, 1112, 358, 4411, 429, 358, 1521, 1045, 5098, 13671, 389, 506, 787, 46, 1189, 11397, 330, 40, 4411, 429, 358, 1865, 1045, 5098, 13671, 389, 506, 787, 46, 1189, 320, 4072, 330, 22920, 1, 311, 330, 26912, 1, 369, 3267, 42687, 9272, 20, 13, 330, 1782, 9342, 5710, 944, 264, 2393, 1189, 11397, 330, 1782, 9342, 3207, 944, 11996, 1189, 320, 4072, 330, 16123, 77, 944, 1, 311, 330, 96749, 944, 11996, 1, 369, 2664, 6396, 9272, 21, 13, 330, 2623, 1172, 279, 44378, 882, 374, 264, 2699, 1550, 11, 714, 279, 4271, 315, 279, 14507, 8947, 553, 279, 2205, 3460, 4128, 1614, 374, 2167, 11, 2167, 3873, 1189, 11397, 330, 2623, 1172, 374, 279, 44378, 882, 1550, 11, 714, 279, 4271, 315, 279, 14507, 8947, 553, 279, 2205, 3460, 4128, 1614, 374, 2167, 3873, 1189, 320, 13021, 330, 1782, 1, 1573, 330, 258, 2202, 882, 1, 323, 7500, 279, 5944, 9272, 13394, 11, 1779, 369, 61503, 13, 576, 4024, 702, 264, 4168, 1283, 330, 63281, 1335, 892, 374, 4396, 13, 576, 11652, 10335, 448, 264, 4168, 382, 4416, 11, 10687, 432, 678, 3786, 11, 279, 35965, 1467, 1265, 614, 1493, 4344, 624, 151668, 271, 4416, 358, 572, 5488, 429, 13671, 358, 7391, 264, 2696, 315, 882, 389, 506, 787, 46, 13, 60033, 572, 279, 220, 16, 19, 339, 315, 5768, 13, 358, 572, 518, 2114, 448, 847, 7403, 323, 847, 1682, 13, 358, 4411, 429, 358, 1865, 1045, 5098, 13671, 389, 506, 787, 46, 13, 3017, 1887, 3383, 572, 311, 1273, 31267, 421, 582, 646, 1598, 264, 3460, 4128, 1614, 13, 7418, 264, 2613, 825, 389, 264, 6371, 4540, 13, 2055, 358, 572, 2952, 311, 11075, 429, 389, 847, 18400, 4540, 13, 1988, 279, 9342, 3207, 944, 11996, 13, 2806, 1172, 374, 279, 44378, 882, 1550, 11, 714, 279, 4271, 315, 279, 14507, 8947, 553, 279, 2205, 3460, 4128, 1614, 374, 2167, 3873, 13], 'total_duration': 25236717417, 'load_duration': 1964944584, 'prompt_eval_count': 468, 'prompt_eval_duration': 1130599208, 'eval_count': 1014, 'eval_duration': 22140334208}...
2025-07-15 13:10:59,144 - celery.redirected - WARNING - First part (thinking):
2025-07-15 13:10:59,144 - celery.redirected - WARNING -  
2025-07-15 13:10:59,144 - celery.redirected - WARNING - Okay, let's tackle this transcript. The user wants me to correct spelling and grammar mistakes while keeping the original meaning. First, I'll read through the text carefully.

The first sentence starts with "So I was saying that yesterday..." Maybe "So I was saying" is okay, but "I was saying" is more natural. Then "Yesterday was 14th of July." The date format is correct, but "14th" should be "14th" with a hyphen, but in the original, it's written as "14th of July." Wait, the original has "14th of July" with a space. Maybe that's correct. 

Next, "I was at home with my wife and my kid." The comma after "kid" might be needed. Also, "my wife and my kid" – should that be "my wife and my child"? The original uses "kid," which is a slang term for child, but "child" is more formal. Maybe "my child" is better.

Then, "I believe that... I believe that I did some progress yesterday on OREO." The structure here is a bit awkward. Maybe rephrase to "I believe that I made some progress yesterday on OREO." Also, "the experiment wasn't a success" – maybe "the experiment didn't succeed" is more natural.

"Not only the inference time is a bit high, but the quality of the responses produced by the local large language model is really, really bad." The phrase "not only the inference time" is a bit clunky. Maybe "Not only is the inference time high, but..." to make it flow better. Also, "local large language model" – maybe "local large language model" is correct, but "local" might be redundant if it's a specific model. However, the original uses "local," so maybe keep it.

Check for punctuation: commas, periods, semicolons. The original has some missing commas. For example, after "my wife and my kid" – the original has a comma after "kid," which is correct. 

Other points: "the experiment wasn't a success" – "wasn't" is correct. "Not only the inference time is a bit high" – the structure here is okay, but maybe "Not only is the inference time high" is more concise.

Also, "the quality of the responses produced by the local large language model is really, really bad." The original uses "really, really bad," which is redundant. Maybe "really bad" is sufficient.

Check for any other typos or spelling errors. "OREO" is correctly spelled. "Samsung phone" – correct. 

So, the main corrections would be:

1. "So I was saying that yesterday I spent a lot of time on OREO." → "So I was saying that yesterday I spent a lot of time on OREO." (No change needed here.)

2. "Yesterday was 14th of July." → "Yesterday was the 14th of July." (Add "the" before "14th" for proper article.)

3. "I was at home with my wife and my kid." → "I was at home with my wife and my child." (Change "kid" to "child" for formality.)

4. "I believe that... I believe that I did some progress yesterday on OREO." → "I believe that I made some progress yesterday on OREO." (Change "did" to "made" for past tense.)

5. "the experiment wasn't a success." → "the experiment didn't succeed." (Change "wasn't" to "didn't succeed" for better flow.)

6. "Not only the inference time is a bit high, but the quality of the responses produced by the local large language model is really, really bad." → "Not only is the inference time high, but the quality of the responses produced by the local large language model is really bad." (Remove "the" before "inference time" and adjust the structure.)

Also, check for punctuation. The original has a period after "kid," which is correct. The sentence ends with a period.

So, putting it all together, the corrected text should have these changes.
2025-07-15 13:10:59,144 - celery.redirected - WARNING - Second part (response):
2025-07-15 13:10:59,144 - celery.redirected - WARNING -  
2025-07-15 13:10:59,144 - celery.redirected - WARNING - So I was saying that yesterday I spent a lot of time on OREO. Yesterday was the 14th of July. I was at home with my wife and my child. I believe that I made some progress yesterday on OREO. My main task was to test practically if we can run a large language model. Even a small one on a mobile phone. So I was able to achieve that on my Samsung phone. But the experiment didn't succeed. Not only is the inference time high, but the quality of the responses produced by the local large language model is really bad.
2025-07-15 13:10:59,156 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Transcription complete, awaiting user review
2025-07-15 13:10:59,463 - celery.app.trace - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[3644494f-92b2-4e2a-95e9-cc5372d8b7df] succeeded in 69.6007197079889s: {'status': 'success', 'audio_id': '5bc3289e-9666-4cdc-9b48-b6afca7ad8fa'}
2025-07-15 13:10:59,469 - repositories.job_repository - INFO - Updated job 2869cb9e-3369-40c3-8f88-c13d292817e9 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:10:59,470 - workers.base_task - INFO - Task 3644494f-92b2-4e2a-95e9-cc5372d8b7df cleanup completed
2025-07-15 13:10:59,470 - workers.celery_app - INFO - Finished task workers.tasks.transcription_tasks.transcribe_audio [3644494f-92b2-4e2a-95e9-cc5372d8b7df] with state: SUCCESS
2025-07-15 13:13:06,435 - celery.worker.strategy - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[ce3dc460-24df-410f-8066-8b582db03086] received
2025-07-15 13:13:06,436 - workers.celery_app - INFO - Starting task workers.tasks.transcript_processor.process_knowledge_base [ce3dc460-24df-410f-8066-8b582db03086]
2025-07-15 13:13:06,447 - repositories.job_repository - INFO - Updated job 1080ca68-b5be-4599-b993-e61fe8fe4d80 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:13:06,448 - workers.base_task - INFO - Task ce3dc460-24df-410f-8066-8b582db03086 initialized successfully
2025-07-15 13:13:06,448 - workers.base_task - INFO - Progress: 1/5 (20.0%) - Loading improved transcript
2025-07-15 13:13:06,485 - workers.tasks.transcript_processor - INFO - Using existing improved transcript for knowledge base processing: 5bc3289e-9666-4cdc-9b48-b6afca7ad8fa
2025-07-15 13:13:06,485 - workers.base_task - INFO - Progress: 2/5 (40.0%) - Chunking transcript
2025-07-15 13:13:06,509 - workers.base_task - INFO - Progress: 3/5 (60.0%) - Analyzing sentiment and extracting entities
2025-07-15 13:13:06,757 - services.ner_service - INFO - Loaded spaCy model for en: en_core_web_sm
2025-07-15 13:13:07,399 - services.ner_service - INFO - Loaded spaCy model for fr: fr_core_news_sm
2025-07-15 13:13:07,427 - workers.base_task - INFO - Progress: 4/5 (80.0%) - Updating knowledge base
2025-07-15 13:13:07,456 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:13:07,461 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/delete "HTTP/1.1 200 OK"
2025-07-15 13:13:07,461 - services.vector_db_client - INFO - Deleted documents: ids=None, where={'audio_id': '5bc3289e-9666-4cdc-9b48-b6afca7ad8fa'}
2025-07-15 13:13:07,479 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:13:07,480 - celery.redirected - WARNING - Batches:   0%|          | 0/1 [00:00<?, ?it/s]
2025-07-15 13:13:07,580 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00, 10.09it/s]
2025-07-15 13:13:07,600 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/add "HTTP/1.1 201 Created"
2025-07-15 13:13:07,601 - services.vector_db_client - INFO - Added 1 documents to collection
2025-07-15 13:13:07,673 - workers.base_task - INFO - Progress: 5/5 (100.0%) - Knowledge base processing completed
2025-07-15 13:13:07,689 - workers.tasks.transcript_processor - INFO - Successfully updated knowledge base for audio 5bc3289e-9666-4cdc-9b48-b6afca7ad8fa (no transcript improvement)
2025-07-15 13:13:07,700 - celery.app.trace - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[ce3dc460-24df-410f-8066-8b582db03086] succeeded in 1.2645817500015255s: {'audio_id': '5bc3289e-9666-4cdc-9b48-b6afca7ad8fa', 'chunks_created': 1, 'entities_extracted': 8, 'vector_indexed': True, 'graph_indexed': True, 'knowledge_base_updated_at': '2025-07-15T11:13:07.689722', 'transcript_improvement_skipped': True}
2025-07-15 13:13:07,703 - repositories.job_repository - INFO - Updated job 1080ca68-b5be-4599-b993-e61fe8fe4d80 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:13:07,703 - workers.base_task - INFO - Task ce3dc460-24df-410f-8066-8b582db03086 cleanup completed
2025-07-15 13:13:07,703 - workers.celery_app - INFO - Finished task workers.tasks.transcript_processor.process_knowledge_base [ce3dc460-24df-410f-8066-8b582db03086] with state: SUCCESS
2025-07-15 13:15:17,058 - celery.worker.strategy - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[fe527c79-9fd1-4158-a87f-ecd24c38e1c1] received
2025-07-15 13:15:17,058 - workers.celery_app - INFO - Starting task workers.tasks.transcription_tasks.transcribe_audio [fe527c79-9fd1-4158-a87f-ecd24c38e1c1]
2025-07-15 13:15:17,064 - repositories.job_repository - INFO - Updated job 7fb805b2-2986-4aa7-8b6d-2e59718243eb status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:15:17,064 - workers.base_task - INFO - Task fe527c79-9fd1-4158-a87f-ecd24c38e1c1 initialized successfully
2025-07-15 13:15:17,065 - workers.base_task - INFO - Progress: 1/3 (33.3%) - Starting transcription
2025-07-15 13:15:17,092 - services.transcription_service - INFO - Transcribing audio_files/2025/07/15/audio_20250715_131517_fa8eb851.m4a with whisper
2025-07-15 13:15:17,093 - celery.redirected - WARNING - Using device for whisper: mps
2025-07-15 13:15:17,093 - services.transcription_service - INFO - Loading Whisper model: medium
2025-07-15 13:15:22,170 - py.warnings - WARNING - /Users/genereux/Dev/pegasus/backend/.venv/lib/python3.11/site-packages/whisper/transcribe.py:132: UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn("FP16 is not supported on CPU; using FP32 instead")

huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:15:22,434 - celery.redirected - WARNING -   0%|          | 0/11988 [00:00<?, ?frames/s]
2025-07-15 13:15:30,625 - celery.redirected - WARNING -  24%|##3       | 2836/11988 [00:08<00:26, 346.26frames/s]
2025-07-15 13:15:38,319 - celery.redirected - WARNING -  41%|####      | 4874/11988 [00:15<00:23, 299.64frames/s]
2025-07-15 13:15:45,993 - celery.redirected - WARNING -  61%|######    | 7300/11988 [00:23<00:15, 307.05frames/s]
2025-07-15 13:15:52,674 - celery.redirected - WARNING -  70%|#######   | 8418/11988 [00:30<00:13, 256.95frames/s]
2025-07-15 13:16:00,142 - celery.redirected - WARNING -  92%|#########2| 11030/11988 [00:37<00:03, 290.74frames/s]
2025-07-15 13:16:06,929 - celery.redirected - WARNING - 100%|##########| 11988/11988 [00:44<00:00, 242.73frames/s]
2025-07-15 13:16:06,929 - celery.redirected - WARNING - 100%|##########| 11988/11988 [00:44<00:00, 269.43frames/s]
huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:16:07,039 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Original transcription complete, awaiting transcript improvement
2025-07-15 13:16:07,062 - services.ollama_service - INFO - Improving transcript with Ollama
2025-07-15 13:16:07,082 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-07-15 13:16:34,419 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-07-15 13:16:34,421 - services.ollama_service - INFO - Ollama completion successful: Result: {'model': 'qwen3:1.7b', 'created_at': '2025-07-15T11:16:34.402626Z', 'response': 'Orion is not Oreo; it is Orion. It is spelled O R I O N. Yesterday I spent a lot of time discussing with my brother as well. He is a big brother. He is older than me and we started to work on Orion with me. Orion is my idea, my project. What I decided to include in it, Orion, she decided to work on it with me and to work on the strategy part. So we discussed yesterday a lot about the roadmap and the target vision for Orion. In two or three years, we are planning to start the launch of Orion. There are a lot of things going on around Orion. I will share that with you as well. It is not going as I expected. There are a lot of things going on my side and a bad work.', 'thinking': 'Okay, let\'s tackle this. The user provided a transcript with some spelling and grammar issues. First, I need to check each sentence for errors.\n\nStarting with the first sentence: "Orion is not it is not Oreo it is Orion." The correct spelling is "Orion is not Oreo; it is Orion." So I need to fix the punctuation here. Also, "it is not Oreo" should have a semicolon after "Orion" to separate the two independent clauses.\n\nNext, "It is spelled like this O R I O N." The letters are all uppercase, but in proper English, it should be "O R I O N" with the correct capitalization. Wait, actually, the spelling is correct as is, but the user might have intended to show the letters. However, in a formal text, it\'s better to write it as "Orion" with the correct capitalization. But the original text has the letters in uppercase, so maybe that\'s intentional. But the user\'s instruction says to correct spelling and grammar. Since the letters are correct, maybe that\'s okay. But the user might have meant to show the spelling, so perhaps leave it as is. However, the original has "O R I O N" with each letter capitalized, which is correct. So maybe that\'s fine.\n\nThen, "So yesterday I spent a lot of time discussing with my brother as well." The preposition "with" is correct, but "discussing" should be "discussing" with the correct verb form. Wait, "discussing" is correct. But "discussing with my brother" is correct. However, "as well" might be better as "as well" but in the original, it\'s "as well." So that\'s okay.\n\nNext sentence: "He is a big brother." "Big brother" is correct. No issues here.\n\n" He is older than me and we started to work on Orion with me." The structure is okay. "Worked on" is correct. "With me" is correct.\n\n"Orion is my idea, my project." Correct.\n\n"What I decided to put in. Orion, she decided to work on it with me and to work on the strategy part." The sentence is a bit choppy. "What I decided to put in" should be "What I decided to include" or "What I decided to put into." But the original says "put in," which is correct. However, "put in" is more about adding something, while "include" is about adding content. So maybe "include" is better. But the original uses "put in," so perhaps that\'s acceptable. However, the user might prefer "include" for clarity. But the original is correct as is.\n\n" So we discussed yesterday a lot about the roadmap and the target vision for Orion." "So we discussed" is correct. "A lot about" is okay.\n\n"In two or three years we are planning to start the launch of Orion." "Planning to start" is correct. "Launch of Orion" is correct.\n\n"There are a lot of things going on around Orion." Correct.\n\n"I will share that with you as well." Correct.\n\n"It is not going as I expected." Correct.\n\n"There are a lot of things going on my side and a bad work." "Work" should be "work" with a capital letter. Also, "my side" is correct. "Bad work" is a bit informal, but maybe acceptable. However, "a bad work" is not standard. It should be "a bad job" or "a bad work." But "work" is a noun, so "a bad work" is correct. However, in a formal context, "a bad job" might be better. But the original uses "work," so perhaps that\'s okay.\n\nSo the main corrections would be:\n\n1. Fix the semicolon after "Orion" in the first sentence.\n2. Correct "work" to "work" with a capital letter.\n3. Adjust "put in" to "include" for clarity.\n4. Ensure proper punctuation in the sentences.\n5. Check for any other typos or grammatical errors.\n\nAlso, the user wants the text to be broken into logical paragraphs. The original has some sentences that are run together, so splitting them would help.\n\nSo the corrected version would have the first sentence with the semicolon, proper punctuation, and the rest adjusted for clarity and grammar.\n', 'done': True, 'done_reason': 'stop', 'context': [151644, 8948, 271, 2610, 525, 458, 6203, 15235, 389, 42429, 323, 31428, 13, 4615, 3383, 374, 311, 4396, 279, 1467, 1172, 323, 1172, 979, 5871, 13, 358, 1079, 537, 10161, 1128, 498, 1744, 315, 279, 1467, 13866, 421, 498, 1075, 476, 537, 26, 8278, 4396, 279, 42429, 323, 31428, 20643, 26, 715, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 55025, 912, 61369, 31747, 1075, 330, 8420, 594, 279, 12944, 35715, 2974, 476, 4113, 4428, 715, 23, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 271, 67783, 37439, 4769, 26687, 3168, 26465, 44840, 1479, 15762, 13, 5664, 15814, 87938, 15762, 91892, 56482, 2726, 48264, 3168, 21116, 16383, 40347, 24787, 25, 151645, 198, 151644, 872, 198, 18395, 35715, 1447, 68673, 374, 537, 432, 374, 537, 506, 29583, 432, 374, 68673, 13, 1084, 374, 67818, 1075, 419, 506, 431, 358, 506, 451, 13, 2055, 13671, 358, 7391, 264, 2696, 315, 882, 24392, 448, 847, 10641, 438, 1632, 13, 1260, 374, 264, 2409, 10641, 13, 1260, 374, 9014, 1091, 752, 323, 582, 3855, 311, 975, 389, 68673, 448, 752, 13, 68673, 374, 847, 4522, 11, 847, 2390, 13, 3555, 358, 6635, 311, 2182, 304, 13, 68673, 11, 1340, 6635, 311, 975, 389, 432, 448, 752, 323, 311, 975, 389, 279, 8282, 949, 13, 2055, 582, 14078, 13671, 264, 2696, 911, 279, 68817, 323, 279, 2169, 11129, 369, 68673, 13, 758, 1378, 476, 2326, 1635, 582, 525, 9115, 311, 1191, 279, 7050, 315, 68673, 13, 2619, 525, 264, 2696, 315, 2513, 2087, 389, 2163, 68673, 13, 358, 686, 4332, 429, 448, 498, 438, 1632, 13, 1084, 374, 537, 2087, 438, 358, 3601, 13, 2619, 525, 264, 2696, 315, 2513, 2087, 389, 847, 3108, 323, 264, 3873, 975, 13, 608, 26865, 151645, 198, 151644, 77091, 198, 151667, 198, 32313, 11, 1077, 594, 21403, 419, 13, 576, 1196, 3897, 264, 35715, 448, 1045, 42429, 323, 31428, 4714, 13, 5512, 11, 358, 1184, 311, 1779, 1817, 11652, 369, 5975, 382, 24617, 448, 279, 1156, 11652, 25, 330, 2195, 290, 374, 537, 432, 374, 537, 506, 29583, 432, 374, 68673, 1189, 576, 4396, 42429, 374, 330, 2195, 290, 374, 537, 506, 29583, 26, 432, 374, 68673, 1189, 2055, 358, 1184, 311, 5046, 279, 61503, 1588, 13, 7281, 11, 330, 275, 374, 537, 506, 29583, 1, 1265, 614, 264, 5234, 38517, 1283, 330, 2195, 290, 1, 311, 8651, 279, 1378, 9489, 49098, 382, 5847, 11, 330, 2132, 374, 67818, 1075, 419, 506, 431, 358, 506, 451, 1189, 576, 11931, 525, 678, 39482, 11, 714, 304, 6169, 6364, 11, 432, 1265, 387, 330, 46, 431, 358, 506, 451, 1, 448, 279, 4396, 6722, 2022, 13, 13824, 11, 3520, 11, 279, 42429, 374, 4396, 438, 374, 11, 714, 279, 1196, 2578, 614, 10602, 311, 1473, 279, 11931, 13, 4354, 11, 304, 264, 15908, 1467, 11, 432, 594, 2664, 311, 3270, 432, 438, 330, 2195, 290, 1, 448, 279, 4396, 6722, 2022, 13, 1988, 279, 4024, 1467, 702, 279, 11931, 304, 39482, 11, 773, 7196, 429, 594, 46864, 13, 1988, 279, 1196, 594, 7600, 2727, 311, 4396, 42429, 323, 31428, 13, 8704, 279, 11931, 525, 4396, 11, 7196, 429, 594, 16910, 13, 1988, 279, 1196, 2578, 614, 8791, 311, 1473, 279, 42429, 11, 773, 8365, 5274, 432, 438, 374, 13, 4354, 11, 279, 4024, 702, 330, 46, 431, 358, 506, 451, 1, 448, 1817, 6524, 97321, 11, 892, 374, 4396, 13, 2055, 7196, 429, 594, 6915, 382, 12209, 11, 330, 4416, 13671, 358, 7391, 264, 2696, 315, 882, 24392, 448, 847, 10641, 438, 1632, 1189, 576, 855, 3487, 330, 4197, 1, 374, 4396, 11, 714, 330, 16822, 1854, 287, 1, 1265, 387, 330, 16822, 1854, 287, 1, 448, 279, 4396, 18607, 1352, 13, 13824, 11, 330, 16822, 1854, 287, 1, 374, 4396, 13, 1988, 330, 16822, 1854, 287, 448, 847, 10641, 1, 374, 4396, 13, 4354, 11, 330, 300, 1632, 1, 2578, 387, 2664, 438, 330, 300, 1632, 1, 714, 304, 279, 4024, 11, 432, 594, 330, 300, 1632, 1189, 2055, 429, 594, 16910, 382, 5847, 11652, 25, 330, 1519, 374, 264, 2409, 10641, 1189, 330, 15636, 10641, 1, 374, 4396, 13, 2308, 4714, 1588, 382, 1, 1260, 374, 9014, 1091, 752, 323, 582, 3855, 311, 975, 389, 68673, 448, 752, 1189, 576, 5944, 374, 16910, 13, 330, 6776, 291, 389, 1, 374, 4396, 13, 330, 2354, 752, 1, 374, 4396, 382, 1, 2195, 290, 374, 847, 4522, 11, 847, 2390, 1189, 39970, 382, 30337, 358, 6635, 311, 2182, 304, 13, 68673, 11, 1340, 6635, 311, 975, 389, 432, 448, 752, 323, 311, 975, 389, 279, 8282, 949, 1189, 576, 11652, 374, 264, 2699, 46994, 3288, 13, 330, 3838, 358, 6635, 311, 2182, 304, 1, 1265, 387, 330, 3838, 358, 6635, 311, 2924, 1, 476, 330, 3838, 358, 6635, 311, 2182, 1119, 1189, 1988, 279, 4024, 2727, 330, 628, 304, 1335, 892, 374, 4396, 13, 4354, 11, 330, 628, 304, 1, 374, 803, 911, 7842, 2494, 11, 1393, 330, 997, 1, 374, 911, 7842, 2213, 13, 2055, 7196, 330, 997, 1, 374, 2664, 13, 1988, 279, 4024, 5711, 330, 628, 304, 1335, 773, 8365, 429, 594, 21555, 13, 4354, 11, 279, 1196, 2578, 10702, 330, 997, 1, 369, 31273, 13, 1988, 279, 4024, 374, 4396, 438, 374, 382, 1, 2055, 582, 14078, 13671, 264, 2696, 911, 279, 68817, 323, 279, 2169, 11129, 369, 68673, 1189, 330, 4416, 582, 14078, 1, 374, 4396, 13, 330, 32, 2696, 911, 1, 374, 16910, 382, 32603, 1378, 476, 2326, 1635, 582, 525, 9115, 311, 1191, 279, 7050, 315, 68673, 1189, 330, 82980, 311, 1191, 1, 374, 4396, 13, 330, 32067, 315, 68673, 1, 374, 4396, 382, 24894, 525, 264, 2696, 315, 2513, 2087, 389, 2163, 68673, 1189, 39970, 382, 7044, 686, 4332, 429, 448, 498, 438, 1632, 1189, 39970, 382, 12077, 374, 537, 2087, 438, 358, 3601, 1189, 39970, 382, 24894, 525, 264, 2696, 315, 2513, 2087, 389, 847, 3108, 323, 264, 3873, 975, 1189, 330, 6776, 1, 1265, 387, 330, 1778, 1, 448, 264, 6722, 6524, 13, 7281, 11, 330, 2408, 3108, 1, 374, 4396, 13, 330, 17082, 975, 1, 374, 264, 2699, 41787, 11, 714, 7196, 21555, 13, 4354, 11, 330, 64, 3873, 975, 1, 374, 537, 5297, 13, 1084, 1265, 387, 330, 64, 3873, 2618, 1, 476, 330, 64, 3873, 975, 1189, 1988, 330, 1778, 1, 374, 264, 36921, 11, 773, 330, 64, 3873, 975, 1, 374, 4396, 13, 4354, 11, 304, 264, 15908, 2266, 11, 330, 64, 3873, 2618, 1, 2578, 387, 2664, 13, 1988, 279, 4024, 5711, 330, 1778, 1335, 773, 8365, 429, 594, 16910, 382, 4416, 279, 1887, 50379, 1035, 387, 1447, 16, 13, 19716, 279, 5234, 38517, 1283, 330, 2195, 290, 1, 304, 279, 1156, 11652, 624, 17, 13, 39970, 330, 1778, 1, 311, 330, 1778, 1, 448, 264, 6722, 6524, 624, 18, 13, 27196, 330, 628, 304, 1, 311, 330, 997, 1, 369, 31273, 624, 19, 13, 29279, 6169, 61503, 304, 279, 22870, 624, 20, 13, 4248, 369, 894, 1008, 13580, 966, 476, 68125, 61072, 5975, 382, 13394, 11, 279, 1196, 6801, 279, 1467, 311, 387, 10865, 1119, 19819, 42643, 13, 576, 4024, 702, 1045, 22870, 429, 525, 1598, 3786, 11, 773, 44373, 1105, 1035, 1492, 382, 4416, 279, 35965, 2319, 1035, 614, 279, 1156, 11652, 448, 279, 5234, 38517, 11, 6169, 61503, 11, 323, 279, 2732, 23368, 369, 31273, 323, 31428, 624, 151668, 271, 2195, 290, 374, 537, 506, 29583, 26, 432, 374, 68673, 13, 1084, 374, 67818, 506, 431, 358, 506, 451, 13, 60033, 358, 7391, 264, 2696, 315, 882, 24392, 448, 847, 10641, 438, 1632, 13, 1260, 374, 264, 2409, 10641, 13, 1260, 374, 9014, 1091, 752, 323, 582, 3855, 311, 975, 389, 68673, 448, 752, 13, 68673, 374, 847, 4522, 11, 847, 2390, 13, 3555, 358, 6635, 311, 2924, 304, 432, 11, 68673, 11, 1340, 6635, 311, 975, 389, 432, 448, 752, 323, 311, 975, 389, 279, 8282, 949, 13, 2055, 582, 14078, 13671, 264, 2696, 911, 279, 68817, 323, 279, 2169, 11129, 369, 68673, 13, 758, 1378, 476, 2326, 1635, 11, 582, 525, 9115, 311, 1191, 279, 7050, 315, 68673, 13, 2619, 525, 264, 2696, 315, 2513, 2087, 389, 2163, 68673, 13, 358, 686, 4332, 429, 448, 498, 438, 1632, 13, 1084, 374, 537, 2087, 438, 358, 3601, 13, 2619, 525, 264, 2696, 315, 2513, 2087, 389, 847, 3108, 323, 264, 3873, 975, 13], 'total_duration': 27305604542, 'load_duration': 1952498750, 'prompt_eval_count': 498, 'prompt_eval_duration': 1158014375, 'eval_count': 1091, 'eval_duration': 24194491792}...
2025-07-15 13:16:34,421 - celery.redirected - WARNING - First part (thinking):
2025-07-15 13:16:34,421 - celery.redirected - WARNING -  
2025-07-15 13:16:34,421 - celery.redirected - WARNING - Okay, let's tackle this. The user provided a transcript with some spelling and grammar issues. First, I need to check each sentence for errors.

Starting with the first sentence: "Orion is not it is not Oreo it is Orion." The correct spelling is "Orion is not Oreo; it is Orion." So I need to fix the punctuation here. Also, "it is not Oreo" should have a semicolon after "Orion" to separate the two independent clauses.

Next, "It is spelled like this O R I O N." The letters are all uppercase, but in proper English, it should be "O R I O N" with the correct capitalization. Wait, actually, the spelling is correct as is, but the user might have intended to show the letters. However, in a formal text, it's better to write it as "Orion" with the correct capitalization. But the original text has the letters in uppercase, so maybe that's intentional. But the user's instruction says to correct spelling and grammar. Since the letters are correct, maybe that's okay. But the user might have meant to show the spelling, so perhaps leave it as is. However, the original has "O R I O N" with each letter capitalized, which is correct. So maybe that's fine.

Then, "So yesterday I spent a lot of time discussing with my brother as well." The preposition "with" is correct, but "discussing" should be "discussing" with the correct verb form. Wait, "discussing" is correct. But "discussing with my brother" is correct. However, "as well" might be better as "as well" but in the original, it's "as well." So that's okay.

Next sentence: "He is a big brother." "Big brother" is correct. No issues here.

" He is older than me and we started to work on Orion with me." The structure is okay. "Worked on" is correct. "With me" is correct.

"Orion is my idea, my project." Correct.

"What I decided to put in. Orion, she decided to work on it with me and to work on the strategy part." The sentence is a bit choppy. "What I decided to put in" should be "What I decided to include" or "What I decided to put into." But the original says "put in," which is correct. However, "put in" is more about adding something, while "include" is about adding content. So maybe "include" is better. But the original uses "put in," so perhaps that's acceptable. However, the user might prefer "include" for clarity. But the original is correct as is.

" So we discussed yesterday a lot about the roadmap and the target vision for Orion." "So we discussed" is correct. "A lot about" is okay.

"In two or three years we are planning to start the launch of Orion." "Planning to start" is correct. "Launch of Orion" is correct.

"There are a lot of things going on around Orion." Correct.

"I will share that with you as well." Correct.

"It is not going as I expected." Correct.

"There are a lot of things going on my side and a bad work." "Work" should be "work" with a capital letter. Also, "my side" is correct. "Bad work" is a bit informal, but maybe acceptable. However, "a bad work" is not standard. It should be "a bad job" or "a bad work." But "work" is a noun, so "a bad work" is correct. However, in a formal context, "a bad job" might be better. But the original uses "work," so perhaps that's okay.

So the main corrections would be:

1. Fix the semicolon after "Orion" in the first sentence.
2. Correct "work" to "work" with a capital letter.
3. Adjust "put in" to "include" for clarity.
4. Ensure proper punctuation in the sentences.
5. Check for any other typos or grammatical errors.

Also, the user wants the text to be broken into logical paragraphs. The original has some sentences that are run together, so splitting them would help.

So the corrected version would have the first sentence with the semicolon, proper punctuation, and the rest adjusted for clarity and grammar.
2025-07-15 13:16:34,421 - celery.redirected - WARNING - Second part (response):
2025-07-15 13:16:34,421 - celery.redirected - WARNING -  
2025-07-15 13:16:34,421 - celery.redirected - WARNING - Orion is not Oreo; it is Orion. It is spelled O R I O N. Yesterday I spent a lot of time discussing with my brother as well. He is a big brother. He is older than me and we started to work on Orion with me. Orion is my idea, my project. What I decided to include in it, Orion, she decided to work on it with me and to work on the strategy part. So we discussed yesterday a lot about the roadmap and the target vision for Orion. In two or three years, we are planning to start the launch of Orion. There are a lot of things going on around Orion. I will share that with you as well. It is not going as I expected. There are a lot of things going on my side and a bad work.
2025-07-15 13:16:34,439 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Transcription complete, awaiting user review
2025-07-15 13:16:34,729 - celery.app.trace - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[fe527c79-9fd1-4158-a87f-ecd24c38e1c1] succeeded in 77.67072245801683s: {'status': 'success', 'audio_id': 'f2649a10-c932-4a02-a253-1007bc7a409f'}
2025-07-15 13:16:34,738 - repositories.job_repository - INFO - Updated job 7fb805b2-2986-4aa7-8b6d-2e59718243eb status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:16:34,738 - workers.base_task - INFO - Task fe527c79-9fd1-4158-a87f-ecd24c38e1c1 cleanup completed
2025-07-15 13:16:34,738 - workers.celery_app - INFO - Finished task workers.tasks.transcription_tasks.transcribe_audio [fe527c79-9fd1-4158-a87f-ecd24c38e1c1] with state: SUCCESS
2025-07-15 13:18:13,122 - celery.worker.strategy - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[012d23f5-f0a4-4468-9aaa-092665453608] received
2025-07-15 13:18:13,123 - workers.celery_app - INFO - Starting task workers.tasks.transcript_processor.process_knowledge_base [012d23f5-f0a4-4468-9aaa-092665453608]
2025-07-15 13:18:13,134 - repositories.job_repository - INFO - Updated job a14d3654-0b89-4620-b91d-042682113660 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:18:13,134 - workers.base_task - INFO - Task 012d23f5-f0a4-4468-9aaa-092665453608 initialized successfully
2025-07-15 13:18:13,135 - workers.base_task - INFO - Progress: 1/5 (20.0%) - Loading improved transcript
2025-07-15 13:18:13,171 - workers.tasks.transcript_processor - INFO - Using existing improved transcript for knowledge base processing: f2649a10-c932-4a02-a253-1007bc7a409f
2025-07-15 13:18:13,171 - workers.base_task - INFO - Progress: 2/5 (40.0%) - Chunking transcript
2025-07-15 13:18:13,197 - workers.base_task - INFO - Progress: 3/5 (60.0%) - Analyzing sentiment and extracting entities
2025-07-15 13:18:13,438 - services.ner_service - INFO - Loaded spaCy model for en: en_core_web_sm
2025-07-15 13:18:14,033 - services.ner_service - INFO - Loaded spaCy model for fr: fr_core_news_sm
2025-07-15 13:18:14,060 - workers.base_task - INFO - Progress: 4/5 (80.0%) - Updating knowledge base
2025-07-15 13:18:14,079 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:18:14,082 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/delete "HTTP/1.1 200 OK"
2025-07-15 13:18:14,082 - services.vector_db_client - INFO - Deleted documents: ids=None, where={'audio_id': 'f2649a10-c932-4a02-a253-1007bc7a409f'}
2025-07-15 13:18:14,097 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:18:14,098 - celery.redirected - WARNING - Batches:   0%|          | 0/1 [00:00<?, ?it/s]
2025-07-15 13:18:14,151 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00, 19.12it/s]
2025-07-15 13:18:14,165 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/add "HTTP/1.1 201 Created"
2025-07-15 13:18:14,165 - services.vector_db_client - INFO - Added 1 documents to collection
2025-07-15 13:18:14,197 - workers.base_task - INFO - Progress: 5/5 (100.0%) - Knowledge base processing completed
2025-07-15 13:18:14,210 - workers.tasks.transcript_processor - INFO - Successfully updated knowledge base for audio f2649a10-c932-4a02-a253-1007bc7a409f (no transcript improvement)
2025-07-15 13:18:14,221 - celery.app.trace - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[012d23f5-f0a4-4468-9aaa-092665453608] succeeded in 1.0982769999827724s: {'audio_id': 'f2649a10-c932-4a02-a253-1007bc7a409f', 'chunks_created': 1, 'entities_extracted': 3, 'vector_indexed': True, 'graph_indexed': True, 'knowledge_base_updated_at': '2025-07-15T11:18:14.210257', 'transcript_improvement_skipped': True}
2025-07-15 13:18:14,224 - repositories.job_repository - INFO - Updated job a14d3654-0b89-4620-b91d-042682113660 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:18:14,224 - workers.base_task - INFO - Task 012d23f5-f0a4-4468-9aaa-092665453608 cleanup completed
2025-07-15 13:18:14,224 - workers.celery_app - INFO - Finished task workers.tasks.transcript_processor.process_knowledge_base [012d23f5-f0a4-4468-9aaa-092665453608] with state: SUCCESS
2025-07-15 13:23:36,264 - celery.worker.strategy - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[1a123b97-035b-4b6d-8ab8-8e8c548f2a60] received
2025-07-15 13:23:36,265 - workers.celery_app - INFO - Starting task workers.tasks.transcription_tasks.transcribe_audio [1a123b97-035b-4b6d-8ab8-8e8c548f2a60]
2025-07-15 13:23:36,272 - repositories.job_repository - INFO - Updated job b48fe0e4-023c-4ee8-a0d9-df529b4ae795 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:23:36,272 - workers.base_task - INFO - Task 1a123b97-035b-4b6d-8ab8-8e8c548f2a60 initialized successfully
2025-07-15 13:23:36,272 - workers.base_task - INFO - Progress: 1/3 (33.3%) - Starting transcription
2025-07-15 13:23:36,299 - services.transcription_service - INFO - Transcribing audio_files/2025/07/15/audio_20250715_132336_e04c4a0d.m4a with whisper
2025-07-15 13:23:36,299 - celery.redirected - WARNING - Using device for whisper: mps
2025-07-15 13:23:36,299 - services.transcription_service - INFO - Loading Whisper model: medium
2025-07-15 13:23:41,731 - py.warnings - WARNING - /Users/genereux/Dev/pegasus/backend/.venv/lib/python3.11/site-packages/whisper/transcribe.py:132: UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn("FP16 is not supported on CPU; using FP32 instead")

huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:23:41,981 - celery.redirected - WARNING -   0%|          | 0/11995 [00:00<?, ?frames/s]
2025-07-15 13:23:50,044 - celery.redirected - WARNING -  23%|##3       | 2804/11995 [00:08<00:26, 347.78frames/s]
2025-07-15 13:23:58,098 - celery.redirected - WARNING -  43%|####3     | 5186/11995 [00:16<00:21, 317.20frames/s]
2025-07-15 13:24:06,005 - celery.redirected - WARNING -  64%|######4   | 7706/11995 [00:24<00:13, 317.87frames/s]
2025-07-15 13:24:13,191 - celery.redirected - WARNING -  81%|########1 | 9755/11995 [00:31<00:07, 305.77frames/s]
2025-07-15 13:24:22,142 - celery.redirected - WARNING - 100%|##########| 11995/11995 [00:40<00:00, 283.74frames/s]
2025-07-15 13:24:22,142 - celery.redirected - WARNING - 100%|##########| 11995/11995 [00:40<00:00, 298.68frames/s]
huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:24:22,321 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Original transcription complete, awaiting transcript improvement
2025-07-15 13:24:22,343 - services.ollama_service - INFO - Improving transcript with Ollama
2025-07-15 13:24:22,365 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-07-15 13:24:46,100 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-07-15 13:24:46,102 - services.ollama_service - INFO - Ollama completion successful: Result: {'model': 'qwen3:1.7b', 'created_at': '2025-07-15T11:24:46.088249Z', 'response': "Okay, what I mean by the last transcript is that about work, my professional work involves a lot of things going on. My team at work depends on me, and I am highly solicited. There's a lot going on, and I need to be on top. I need to deliver a high performance and high quality of work, thinking critically, and delivering projects on time without bugs. That means quite a lot.  \n\nBeside that, yesterday I spent some time on WhatsApp responding to some friends. I need to follow up on those chats today in the future. I will give you access to my WhatsApp. I will want you to help me follow up properly on my conversation. Sometimes I forget people I should talk to, things I need to say, or people I need to call. That's why I need you, I need you, I need you a lot because there are too many things to handle.", 'thinking': 'Okay, let\'s tackle this. The user provided a transcript with several spelling and grammar errors. First, I need to identify the mistakes. The original text is a bit jumbled and has a lot of typos. Let me go through each sentence.\n\nStarting with "Okay what I mean by the last transcript is that about work my professional work I have a lot of things going on my team at work depends on me." The first sentence has "Okay what I mean by the last transcript is that about work" – "transcript" should be "transcript" (maybe a typo?), but "about work" is a bit unclear. Maybe "Okay, what I mean by the last transcript is that..." would be better.\n\nNext, "my professional work I have a lot of things going on my team at work depends on me." "Depends on me" is correct, but "my professional work" might be better as "my professional work" is okay, but maybe "my professional work" is redundant. Maybe "my professional work involves a lot of things going on" would be better.\n\nThen, "I am highly highly solicited and there is a lot of things going on I need to be on top I need to deliver a high performance high quality of works to think critically and deliver project on time and without bugs and that\'s that means quite a lot." "Highly highly" is a typo, should be "highly." "Works" is plural, but "works" is singular. So "high performance high quality of works" should be "high performance and high quality of works." Also, "that\'s that means quite a lot" is awkward. Maybe rephrase to "that means quite a lot."\n\nNext sentence: "beside that yesterday I spent some time on WhatsApp responding to some friends and I need to follow up on those chat today in the future I will give you access to my WhatsApp as well I will want you to I will want you to help me follow up follow properly my conversation as well because sometimes I don\'t forget I forget sometimes I forget people I should talk to things I need to say people I need to call and that\'s why I need you I need you I need you a lot because there are too many things to handle /think."\n\n"Beside that" is better as "besides that." "Spent some time on WhatsApp" – "responding to some friends" is okay, but "chat" should be "chats" since it\'s plural. "Follow up on those chat" – "chat" is singular, so "follow up on those chats." "I will want you to I will want you to help me follow up follow properly my conversation as well" – "follow up follow properly" is a typo, should be "follow up properly." Also, "sometimes I don\'t forget I forget" – "forget" is singular, so "sometimes I don\'t forget, I forget." "Things I need to say people I need to call" – "say" is singular, so "things I need to say" and "call" is singular. "That\'s why I need you I need you I need you a lot" – "need you" is repeated, maybe "need you" once and "I need you" again.\n\nAlso, the sentence "there are too many things to handle /think" – maybe "handle" is better than "think" here. So "there are too many things to handle."\n\nPutting it all together, making sure punctuation is correct, capitalization, and the flow is logical. Split into paragraphs if needed. Check for any other typos or grammatical errors.\n', 'done': True, 'done_reason': 'stop', 'context': [151644, 8948, 271, 2610, 525, 458, 6203, 15235, 389, 42429, 323, 31428, 13, 4615, 3383, 374, 311, 4396, 279, 1467, 1172, 323, 1172, 979, 5871, 13, 358, 1079, 537, 10161, 1128, 498, 1744, 315, 279, 1467, 13866, 421, 498, 1075, 476, 537, 26, 8278, 4396, 279, 42429, 323, 31428, 20643, 26, 715, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 55025, 912, 61369, 31747, 1075, 330, 8420, 594, 279, 12944, 35715, 2974, 476, 4113, 4428, 715, 23, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 271, 67783, 37439, 4769, 26687, 3168, 26465, 44840, 1479, 15762, 13, 5664, 15814, 87938, 15762, 91892, 56482, 2726, 48264, 3168, 21116, 16383, 40347, 24787, 25, 151645, 198, 151644, 872, 198, 18395, 35715, 1447, 35439, 1128, 358, 3076, 553, 279, 1537, 35715, 374, 429, 911, 975, 847, 6584, 975, 358, 614, 264, 2696, 315, 2513, 2087, 389, 847, 2083, 518, 975, 13798, 389, 752, 358, 1079, 7548, 7548, 29744, 1608, 323, 1052, 374, 264, 2696, 315, 2513, 2087, 389, 358, 1184, 311, 387, 389, 1909, 358, 1184, 311, 6359, 264, 1550, 5068, 1550, 4271, 315, 4278, 311, 1744, 40340, 323, 6359, 2390, 389, 882, 323, 2041, 22551, 323, 429, 594, 429, 3363, 5008, 264, 2696, 773, 29388, 429, 13671, 358, 7391, 1045, 882, 389, 40013, 29338, 311, 1045, 4780, 323, 358, 1184, 311, 1795, 705, 389, 1846, 6236, 3351, 304, 279, 3853, 358, 686, 2968, 498, 2615, 311, 847, 40013, 438, 1632, 358, 686, 1366, 498, 311, 358, 686, 1366, 498, 311, 1492, 752, 1795, 705, 1795, 10277, 847, 10435, 438, 1632, 1576, 7025, 358, 1513, 944, 10667, 358, 10667, 7025, 358, 10667, 1251, 358, 1265, 3061, 311, 2513, 358, 1184, 311, 1977, 1251, 358, 1184, 311, 1618, 323, 429, 594, 3170, 358, 1184, 498, 358, 1184, 498, 358, 1184, 498, 264, 2696, 1576, 1052, 525, 2238, 1657, 2513, 311, 3705, 608, 26865, 151645, 198, 151644, 77091, 198, 151667, 198, 32313, 11, 1077, 594, 21403, 419, 13, 576, 1196, 3897, 264, 35715, 448, 3807, 42429, 323, 31428, 5975, 13, 5512, 11, 358, 1184, 311, 10542, 279, 20643, 13, 576, 4024, 1467, 374, 264, 2699, 502, 25817, 323, 702, 264, 2696, 315, 13580, 966, 13, 6771, 752, 728, 1526, 1817, 11652, 382, 24617, 448, 330, 32313, 1128, 358, 3076, 553, 279, 1537, 35715, 374, 429, 911, 975, 847, 6584, 975, 358, 614, 264, 2696, 315, 2513, 2087, 389, 847, 2083, 518, 975, 13798, 389, 752, 1189, 576, 1156, 11652, 702, 330, 32313, 1128, 358, 3076, 553, 279, 1537, 35715, 374, 429, 911, 975, 1, 1365, 330, 1458, 1228, 1, 1265, 387, 330, 1458, 1228, 1, 320, 36760, 264, 85105, 69272, 714, 330, 9096, 975, 1, 374, 264, 2699, 24416, 13, 10696, 330, 32313, 11, 1128, 358, 3076, 553, 279, 1537, 35715, 374, 429, 21215, 1035, 387, 2664, 382, 5847, 11, 330, 2408, 6584, 975, 358, 614, 264, 2696, 315, 2513, 2087, 389, 847, 2083, 518, 975, 13798, 389, 752, 1189, 330, 7839, 1412, 389, 752, 1, 374, 4396, 11, 714, 330, 2408, 6584, 975, 1, 2578, 387, 2664, 438, 330, 2408, 6584, 975, 1, 374, 16910, 11, 714, 7196, 330, 2408, 6584, 975, 1, 374, 47732, 13, 10696, 330, 2408, 6584, 975, 17601, 264, 2696, 315, 2513, 2087, 389, 1, 1035, 387, 2664, 382, 12209, 11, 330, 40, 1079, 7548, 7548, 29744, 1608, 323, 1052, 374, 264, 2696, 315, 2513, 2087, 389, 358, 1184, 311, 387, 389, 1909, 358, 1184, 311, 6359, 264, 1550, 5068, 1550, 4271, 315, 4278, 311, 1744, 40340, 323, 6359, 2390, 389, 882, 323, 2041, 22551, 323, 429, 594, 429, 3363, 5008, 264, 2696, 1189, 330, 11976, 398, 7548, 1, 374, 264, 85105, 11, 1265, 387, 330, 11892, 398, 1189, 330, 37683, 1, 374, 38498, 11, 714, 330, 18525, 1, 374, 33944, 13, 2055, 330, 11892, 5068, 1550, 4271, 315, 4278, 1, 1265, 387, 330, 11892, 5068, 323, 1550, 4271, 315, 4278, 1189, 7281, 11, 330, 9033, 594, 429, 3363, 5008, 264, 2696, 1, 374, 28759, 13, 10696, 312, 27710, 311, 330, 9033, 3363, 5008, 264, 2696, 2217, 5847, 11652, 25, 330, 9433, 577, 429, 13671, 358, 7391, 1045, 882, 389, 40013, 29338, 311, 1045, 4780, 323, 358, 1184, 311, 1795, 705, 389, 1846, 6236, 3351, 304, 279, 3853, 358, 686, 2968, 498, 2615, 311, 847, 40013, 438, 1632, 358, 686, 1366, 498, 311, 358, 686, 1366, 498, 311, 1492, 752, 1795, 705, 1795, 10277, 847, 10435, 438, 1632, 1576, 7025, 358, 1513, 944, 10667, 358, 10667, 7025, 358, 10667, 1251, 358, 1265, 3061, 311, 2513, 358, 1184, 311, 1977, 1251, 358, 1184, 311, 1618, 323, 429, 594, 3170, 358, 1184, 498, 358, 1184, 498, 358, 1184, 498, 264, 2696, 1576, 1052, 525, 2238, 1657, 2513, 311, 3705, 608, 26865, 2217, 1, 39726, 577, 429, 1, 374, 2664, 438, 330, 9433, 3341, 429, 1189, 330, 6406, 306, 1045, 882, 389, 40013, 1, 1365, 330, 6818, 287, 311, 1045, 4780, 1, 374, 16910, 11, 714, 330, 9686, 1, 1265, 387, 330, 331, 1862, 1, 2474, 432, 594, 38498, 13, 330, 12480, 705, 389, 1846, 6236, 1, 1365, 330, 9686, 1, 374, 33944, 11, 773, 330, 18559, 705, 389, 1846, 48526, 1189, 330, 40, 686, 1366, 498, 311, 358, 686, 1366, 498, 311, 1492, 752, 1795, 705, 1795, 10277, 847, 10435, 438, 1632, 1, 1365, 330, 18559, 705, 1795, 10277, 1, 374, 264, 85105, 11, 1265, 387, 330, 18559, 705, 10277, 1189, 7281, 11, 330, 56653, 358, 1513, 944, 10667, 358, 10667, 1, 1365, 330, 40019, 1, 374, 33944, 11, 773, 330, 56653, 358, 1513, 944, 10667, 11, 358, 10667, 1189, 330, 41475, 358, 1184, 311, 1977, 1251, 358, 1184, 311, 1618, 1, 1365, 330, 36790, 1, 374, 33944, 11, 773, 330, 57074, 358, 1184, 311, 1977, 1, 323, 330, 6659, 1, 374, 33944, 13, 330, 4792, 594, 3170, 358, 1184, 498, 358, 1184, 498, 358, 1184, 498, 264, 2696, 1, 1365, 330, 17046, 498, 1, 374, 11504, 11, 7196, 330, 17046, 498, 1, 3055, 323, 330, 40, 1184, 498, 1, 1549, 382, 13394, 11, 279, 11652, 330, 18532, 525, 2238, 1657, 2513, 311, 3705, 608, 26865, 1, 1365, 7196, 330, 8192, 1, 374, 2664, 1091, 330, 26865, 1, 1588, 13, 2055, 330, 18532, 525, 2238, 1657, 2513, 311, 3705, 2217, 97904, 432, 678, 3786, 11, 3259, 2704, 61503, 374, 4396, 11, 6722, 2022, 11, 323, 279, 6396, 374, 19819, 13, 27810, 1119, 42643, 421, 4362, 13, 4248, 369, 894, 1008, 13580, 966, 476, 68125, 61072, 5975, 624, 151668, 271, 32313, 11, 1128, 358, 3076, 553, 279, 1537, 35715, 374, 429, 911, 975, 11, 847, 6584, 975, 17601, 264, 2696, 315, 2513, 2087, 389, 13, 3017, 2083, 518, 975, 13798, 389, 752, 11, 323, 358, 1079, 7548, 29744, 1608, 13, 2619, 594, 264, 2696, 2087, 389, 11, 323, 358, 1184, 311, 387, 389, 1909, 13, 358, 1184, 311, 6359, 264, 1550, 5068, 323, 1550, 4271, 315, 975, 11, 7274, 40340, 11, 323, 23988, 7079, 389, 882, 2041, 22551, 13, 2938, 3363, 5008, 264, 2696, 13, 18611, 39726, 577, 429, 11, 13671, 358, 7391, 1045, 882, 389, 40013, 29338, 311, 1045, 4780, 13, 358, 1184, 311, 1795, 705, 389, 1846, 48526, 3351, 304, 279, 3853, 13, 358, 686, 2968, 498, 2615, 311, 847, 40013, 13, 358, 686, 1366, 498, 311, 1492, 752, 1795, 705, 10277, 389, 847, 10435, 13, 17688, 358, 10667, 1251, 358, 1265, 3061, 311, 11, 2513, 358, 1184, 311, 1977, 11, 476, 1251, 358, 1184, 311, 1618, 13, 2938, 594, 3170, 358, 1184, 498, 11, 358, 1184, 498, 11, 358, 1184, 498, 264, 2696, 1576, 1052, 525, 2238, 1657, 2513, 311, 3705, 13], 'total_duration': 23708345500, 'load_duration': 1954889541, 'prompt_eval_count': 519, 'prompt_eval_duration': 1174282458, 'eval_count': 939, 'eval_duration': 20578480459}...
2025-07-15 13:24:46,102 - celery.redirected - WARNING - First part (thinking):
2025-07-15 13:24:46,102 - celery.redirected - WARNING -  
2025-07-15 13:24:46,102 - celery.redirected - WARNING - Okay, let's tackle this. The user provided a transcript with several spelling and grammar errors. First, I need to identify the mistakes. The original text is a bit jumbled and has a lot of typos. Let me go through each sentence.

Starting with "Okay what I mean by the last transcript is that about work my professional work I have a lot of things going on my team at work depends on me." The first sentence has "Okay what I mean by the last transcript is that about work" – "transcript" should be "transcript" (maybe a typo?), but "about work" is a bit unclear. Maybe "Okay, what I mean by the last transcript is that..." would be better.

Next, "my professional work I have a lot of things going on my team at work depends on me." "Depends on me" is correct, but "my professional work" might be better as "my professional work" is okay, but maybe "my professional work" is redundant. Maybe "my professional work involves a lot of things going on" would be better.

Then, "I am highly highly solicited and there is a lot of things going on I need to be on top I need to deliver a high performance high quality of works to think critically and deliver project on time and without bugs and that's that means quite a lot." "Highly highly" is a typo, should be "highly." "Works" is plural, but "works" is singular. So "high performance high quality of works" should be "high performance and high quality of works." Also, "that's that means quite a lot" is awkward. Maybe rephrase to "that means quite a lot."

Next sentence: "beside that yesterday I spent some time on WhatsApp responding to some friends and I need to follow up on those chat today in the future I will give you access to my WhatsApp as well I will want you to I will want you to help me follow up follow properly my conversation as well because sometimes I don't forget I forget sometimes I forget people I should talk to things I need to say people I need to call and that's why I need you I need you I need you a lot because there are too many things to handle /think."

"Beside that" is better as "besides that." "Spent some time on WhatsApp" – "responding to some friends" is okay, but "chat" should be "chats" since it's plural. "Follow up on those chat" – "chat" is singular, so "follow up on those chats." "I will want you to I will want you to help me follow up follow properly my conversation as well" – "follow up follow properly" is a typo, should be "follow up properly." Also, "sometimes I don't forget I forget" – "forget" is singular, so "sometimes I don't forget, I forget." "Things I need to say people I need to call" – "say" is singular, so "things I need to say" and "call" is singular. "That's why I need you I need you I need you a lot" – "need you" is repeated, maybe "need you" once and "I need you" again.

Also, the sentence "there are too many things to handle /think" – maybe "handle" is better than "think" here. So "there are too many things to handle."

Putting it all together, making sure punctuation is correct, capitalization, and the flow is logical. Split into paragraphs if needed. Check for any other typos or grammatical errors.
2025-07-15 13:24:46,102 - celery.redirected - WARNING - Second part (response):
2025-07-15 13:24:46,102 - celery.redirected - WARNING -  
2025-07-15 13:24:46,102 - celery.redirected - WARNING - Okay, what I mean by the last transcript is that about work, my professional work involves a lot of things going on. My team at work depends on me, and I am highly solicited. There's a lot going on, and I need to be on top. I need to deliver a high performance and high quality of work, thinking critically, and delivering projects on time without bugs. That means quite a lot.  

Beside that, yesterday I spent some time on WhatsApp responding to some friends. I need to follow up on those chats today in the future. I will give you access to my WhatsApp. I will want you to help me follow up properly on my conversation. Sometimes I forget people I should talk to, things I need to say, or people I need to call. That's why I need you, I need you, I need you a lot because there are too many things to handle.
2025-07-15 13:24:46,117 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Transcription complete, awaiting user review
2025-07-15 13:24:46,374 - celery.app.trace - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[1a123b97-035b-4b6d-8ab8-8e8c548f2a60] succeeded in 70.10974429198541s: {'status': 'success', 'audio_id': '81dd4d75-6989-4538-9d82-ef724e4f54c9'}
2025-07-15 13:24:46,382 - repositories.job_repository - INFO - Updated job b48fe0e4-023c-4ee8-a0d9-df529b4ae795 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:24:46,382 - workers.base_task - INFO - Task 1a123b97-035b-4b6d-8ab8-8e8c548f2a60 cleanup completed
2025-07-15 13:24:46,382 - workers.celery_app - INFO - Finished task workers.tasks.transcription_tasks.transcribe_audio [1a123b97-035b-4b6d-8ab8-8e8c548f2a60] with state: SUCCESS
2025-07-15 13:27:04,341 - celery.worker.strategy - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[1743e087-9c09-42f0-892e-dfb0b84a70ea] received
2025-07-15 13:27:04,342 - workers.celery_app - INFO - Starting task workers.tasks.transcript_processor.process_knowledge_base [1743e087-9c09-42f0-892e-dfb0b84a70ea]
2025-07-15 13:27:04,355 - repositories.job_repository - INFO - Updated job ba546500-fdc0-45c0-9099-2950ca776734 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:27:04,355 - workers.base_task - INFO - Task 1743e087-9c09-42f0-892e-dfb0b84a70ea initialized successfully
2025-07-15 13:27:04,356 - workers.base_task - INFO - Progress: 1/5 (20.0%) - Loading improved transcript
2025-07-15 13:27:04,394 - workers.tasks.transcript_processor - INFO - Using existing improved transcript for knowledge base processing: 81dd4d75-6989-4538-9d82-ef724e4f54c9
2025-07-15 13:27:04,394 - workers.base_task - INFO - Progress: 2/5 (40.0%) - Chunking transcript
2025-07-15 13:27:04,424 - workers.base_task - INFO - Progress: 3/5 (60.0%) - Analyzing sentiment and extracting entities
2025-07-15 13:27:04,667 - services.ner_service - INFO - Loaded spaCy model for en: en_core_web_sm
2025-07-15 13:27:05,273 - services.ner_service - INFO - Loaded spaCy model for fr: fr_core_news_sm
2025-07-15 13:27:05,300 - workers.base_task - INFO - Progress: 4/5 (80.0%) - Updating knowledge base
2025-07-15 13:27:05,324 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:27:05,328 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/delete "HTTP/1.1 200 OK"
2025-07-15 13:27:05,328 - services.vector_db_client - INFO - Deleted documents: ids=None, where={'audio_id': '81dd4d75-6989-4538-9d82-ef724e4f54c9'}
2025-07-15 13:27:05,350 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:27:05,352 - celery.redirected - WARNING - Batches:   0%|          | 0/1 [00:00<?, ?it/s]
2025-07-15 13:27:05,378 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00, 38.07it/s]
2025-07-15 13:27:05,395 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/add "HTTP/1.1 201 Created"
2025-07-15 13:27:05,396 - services.vector_db_client - INFO - Added 1 documents to collection
2025-07-15 13:27:05,424 - workers.base_task - INFO - Progress: 5/5 (100.0%) - Knowledge base processing completed
2025-07-15 13:27:05,437 - workers.tasks.transcript_processor - INFO - Successfully updated knowledge base for audio 81dd4d75-6989-4538-9d82-ef724e4f54c9 (no transcript improvement)
2025-07-15 13:27:05,449 - celery.app.trace - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[1743e087-9c09-42f0-892e-dfb0b84a70ea] succeeded in 1.1078235000022687s: {'audio_id': '81dd4d75-6989-4538-9d82-ef724e4f54c9', 'chunks_created': 1, 'entities_extracted': 4, 'vector_indexed': True, 'graph_indexed': True, 'knowledge_base_updated_at': '2025-07-15T11:27:05.437501', 'transcript_improvement_skipped': True}
2025-07-15 13:27:05,452 - repositories.job_repository - INFO - Updated job ba546500-fdc0-45c0-9099-2950ca776734 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:27:05,452 - workers.base_task - INFO - Task 1743e087-9c09-42f0-892e-dfb0b84a70ea cleanup completed
2025-07-15 13:27:05,452 - workers.celery_app - INFO - Finished task workers.tasks.transcript_processor.process_knowledge_base [1743e087-9c09-42f0-892e-dfb0b84a70ea] with state: SUCCESS
2025-07-15 13:30:58,735 - celery.worker.strategy - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[25d7dfc0-6e1f-4ad7-8bed-5851c5cca52f] received
2025-07-15 13:30:58,735 - workers.celery_app - INFO - Starting task workers.tasks.transcription_tasks.transcribe_audio [25d7dfc0-6e1f-4ad7-8bed-5851c5cca52f]
2025-07-15 13:30:58,741 - repositories.job_repository - INFO - Updated job c65c14a0-38d7-470c-8d29-828372505294 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:30:58,741 - workers.base_task - INFO - Task 25d7dfc0-6e1f-4ad7-8bed-5851c5cca52f initialized successfully
2025-07-15 13:30:58,741 - workers.base_task - INFO - Progress: 1/3 (33.3%) - Starting transcription
2025-07-15 13:30:58,767 - services.transcription_service - INFO - Transcribing audio_files/2025/07/15/audio_20250715_133058_de71f02b.m4a with whisper
2025-07-15 13:30:58,767 - celery.redirected - WARNING - Using device for whisper: mps
2025-07-15 13:30:58,767 - services.transcription_service - INFO - Loading Whisper model: medium
2025-07-15 13:31:03,982 - py.warnings - WARNING - /Users/genereux/Dev/pegasus/backend/.venv/lib/python3.11/site-packages/whisper/transcribe.py:132: UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn("FP16 is not supported on CPU; using FP32 instead")

huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:31:04,251 - celery.redirected - WARNING -   0%|          | 0/11990 [00:00<?, ?frames/s]
2025-07-15 13:31:11,390 - celery.redirected - WARNING -  14%|#4        | 1700/11990 [00:07<00:43, 238.13frames/s]
2025-07-15 13:31:18,154 - celery.redirected - WARNING -  28%|##7       | 3300/11990 [00:13<00:36, 237.23frames/s]
2025-07-15 13:31:24,863 - celery.redirected - WARNING -  44%|####3     | 5218/11990 [00:20<00:26, 259.08frames/s]
2025-07-15 13:31:31,676 - celery.redirected - WARNING -  55%|#####4    | 6558/11990 [00:27<00:23, 234.46frames/s]
2025-07-15 13:31:39,635 - celery.redirected - WARNING -  68%|######8   | 8178/11990 [00:35<00:17, 222.19frames/s]
2025-07-15 13:31:47,167 - celery.redirected - WARNING -  80%|#######9  | 9552/11990 [00:42<00:11, 208.30frames/s]
2025-07-15 13:31:56,016 - celery.redirected - WARNING - 100%|##########| 11990/11990 [00:51<00:00, 233.13frames/s]
2025-07-15 13:31:56,017 - celery.redirected - WARNING - 100%|##########| 11990/11990 [00:51<00:00, 231.62frames/s]
huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:31:56,144 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Original transcription complete, awaiting transcript improvement
2025-07-15 13:31:56,165 - services.ollama_service - INFO - Improving transcript with Ollama
2025-07-15 13:31:56,186 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-07-15 13:32:23,299 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-07-15 13:32:23,302 - services.ollama_service - INFO - Ollama completion successful: Result: {'model': 'qwen3:1.7b', 'created_at': '2025-07-15T11:32:23.278981Z', 'response': "So there are a lot of things we discussed before today, and I didn't really have time to take action on them. I let you know that I need to remind you of those things I need to do. Next Friday, we are at GSD, and I will start the driving course. The driving course is crucial for my family. Besides that, currently, I don't have a lot of money. I was able to call my father yesterday. I called my father yesterday morning, and he spoke to my wife as well. He spoke to my wife and my children. He is at home now and is not at the hospital anymore. I only need to find money to go home. I need to go home with my wife and my children. My children, because my father and my mother never met my wife or my children face to face ever.", 'thinking': 'Okay, let\'s start by reading through the original transcript carefully. The user wants me to correct spelling and grammar mistakes, add proper punctuation, break into paragraphs, and not add anything else. \n\nFirst, the opening sentence: "So there are a lot of things we discussed before today and I didn\'t really have time to act on them." The word "act on them" might be better as "take action on them" for flow. Also, "So there are" could be "So there are" but maybe "So there are a lot of things we discussed" is okay.\n\nNext, "I let you come back to me or kindly remind me of those things I need to do." The phrase "let you come back" might be better as "let you know" or "let you remind me." Also, "kindly remind me" is correct, but maybe "let you know" is more natural.\n\nThen, "Next Friday, we are at GSD and I will start the driving code training." "We are at GSD" might be "we are at the GSD" if GSD is a specific place. Also, "start the driving code training" should be "start the driving course" since "code" is more about the legal code, but maybe "training" is okay.\n\nThe next sentence: "The driving training, I highly expect that. It\'s really important for my family." "Highly expect that" is a bit awkward. Maybe "I highly expect" without the "that." Also, "It\'s really important" is correct, but maybe "It\'s crucial" for emphasis.\n\nThen, "Besides that, currently I don\'t have a lot of money." "Currently" is okay, but maybe "currently" is better. "I don\'t have a lot of money" is correct.\n\nNext: "I was able to call my father yesterday. I did call my father yesterday morning and he spoke to my wife as well." "I was able to call" is correct. "He spoke to my wife as well" is okay, but maybe "he spoke to my wife and my children" if the original says "my kids." Wait, the original says "my kids because my father and my mother never met my wife or my kids face to face ever." So the kids are the ones not met. So "he spoke to my wife and my children" would be better.\n\nThen, "He is at home now. He is not at the hospital anymore." "He is at home now" is correct. "He is not at the hospital anymore" is okay.\n\nNext: "I only need to find money to go home. I need to go home with my wife and my kids." "I only need to find money to go home" is correct. "I need to go home with my wife and my kids" is okay, but maybe "with my wife and my children" to match the original\'s "kids."\n\nThen, "My kids because my father and my mother never met my wife or my kids face to face ever." "My kids because" is okay, but "my father and my mother never met my wife or my kids face to face ever" should be "my father and my mother never met my wife or my kids face to face ever." The original has "my wife or my kids," so "my wife or my kids" is correct.\n\nPutting it all together, I need to make sure punctuation is correct, like commas and periods. Also, check for proper capitalization, like "GSD" being capitalized. Break into paragraphs where possible. Remove any filler words like "um, uh, er" but the original doesn\'t have those. Ensure the meaning is preserved without adding anything. Check for grammar errors like "highly expect that" becoming "highly expect." Also, "I did call my father" should be "I called my father" if the original says "I did call." Wait, the original says "I did call my father yesterday morning and he spoke to my wife as well." So "I did call" is correct, but maybe "I called" is more natural. However, the original uses "did," so it\'s okay to keep it.\n\nSo the corrected version should have proper punctuation, correct grammar, broken into paragraphs, and no added content. Let me put it all together now.\n', 'done': True, 'done_reason': 'stop', 'context': [151644, 8948, 271, 2610, 525, 458, 6203, 15235, 389, 42429, 323, 31428, 13, 4615, 3383, 374, 311, 4396, 279, 1467, 1172, 323, 1172, 979, 5871, 13, 358, 1079, 537, 10161, 1128, 498, 1744, 315, 279, 1467, 13866, 421, 498, 1075, 476, 537, 26, 8278, 4396, 279, 42429, 323, 31428, 20643, 26, 715, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 55025, 912, 61369, 31747, 1075, 330, 8420, 594, 279, 12944, 35715, 2974, 476, 4113, 4428, 715, 23, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 271, 67783, 37439, 4769, 26687, 3168, 26465, 44840, 1479, 15762, 13, 5664, 15814, 87938, 15762, 91892, 56482, 2726, 48264, 3168, 21116, 16383, 40347, 24787, 25, 151645, 198, 151644, 872, 198, 18395, 35715, 1447, 2055, 1052, 525, 264, 2696, 315, 2513, 582, 14078, 1573, 3351, 323, 358, 3207, 944, 2167, 614, 882, 311, 1160, 389, 1105, 13, 358, 1077, 498, 2525, 1182, 311, 752, 476, 46526, 23974, 752, 315, 1846, 2513, 358, 1184, 311, 653, 13, 9295, 6602, 11, 582, 525, 518, 479, 5491, 323, 358, 686, 1191, 279, 9842, 2038, 4862, 13, 576, 9842, 4862, 11, 358, 7548, 1720, 429, 13, 1084, 594, 2167, 2989, 369, 847, 2997, 13, 30809, 429, 11, 5023, 358, 1513, 944, 614, 264, 2696, 315, 3220, 13, 358, 572, 2952, 311, 1618, 847, 6981, 13671, 13, 358, 1521, 1618, 847, 6981, 13671, 6556, 323, 566, 12290, 311, 847, 7403, 438, 1632, 13, 1260, 12290, 311, 847, 7403, 13, 1260, 374, 518, 2114, 1431, 13, 1260, 374, 537, 518, 279, 8777, 14584, 13, 358, 1172, 1184, 311, 1477, 3220, 311, 728, 2114, 13, 358, 1184, 311, 728, 2114, 448, 847, 7403, 323, 847, 6837, 13, 3017, 6837, 1576, 847, 6981, 323, 847, 6554, 2581, 2270, 847, 7403, 476, 847, 6837, 3579, 311, 3579, 3512, 13, 2055, 358, 1184, 311, 653, 1128, 594, 5871, 311, 1281, 429, 3537, 438, 807, 525, 3709, 9014, 13, 608, 26865, 151645, 198, 151644, 77091, 198, 151667, 198, 32313, 11, 1077, 594, 1191, 553, 5290, 1526, 279, 4024, 35715, 15516, 13, 576, 1196, 6801, 752, 311, 4396, 42429, 323, 31428, 20643, 11, 912, 6169, 61503, 11, 1438, 1119, 42643, 11, 323, 537, 912, 4113, 770, 13, 4710, 5338, 11, 279, 8568, 11652, 25, 330, 4416, 1052, 525, 264, 2696, 315, 2513, 582, 14078, 1573, 3351, 323, 358, 3207, 944, 2167, 614, 882, 311, 1160, 389, 1105, 1189, 576, 3409, 330, 531, 389, 1105, 1, 2578, 387, 2664, 438, 330, 22769, 1917, 389, 1105, 1, 369, 6396, 13, 7281, 11, 330, 4416, 1052, 525, 1, 1410, 387, 330, 4416, 1052, 525, 1, 714, 7196, 330, 4416, 1052, 525, 264, 2696, 315, 2513, 582, 14078, 1, 374, 16910, 382, 5847, 11, 330, 40, 1077, 498, 2525, 1182, 311, 752, 476, 46526, 23974, 752, 315, 1846, 2513, 358, 1184, 311, 653, 1189, 576, 17133, 330, 1149, 498, 2525, 1182, 1, 2578, 387, 2664, 438, 330, 1149, 498, 1414, 1, 476, 330, 1149, 498, 23974, 752, 1189, 7281, 11, 330, 15314, 398, 23974, 752, 1, 374, 4396, 11, 714, 7196, 330, 1149, 498, 1414, 1, 374, 803, 5810, 382, 12209, 11, 330, 5847, 6602, 11, 582, 525, 518, 479, 5491, 323, 358, 686, 1191, 279, 9842, 2038, 4862, 1189, 330, 1654, 525, 518, 479, 5491, 1, 2578, 387, 330, 896, 525, 518, 279, 479, 5491, 1, 421, 479, 5491, 374, 264, 3151, 1992, 13, 7281, 11, 330, 2468, 279, 9842, 2038, 4862, 1, 1265, 387, 330, 2468, 279, 9842, 3308, 1, 2474, 330, 1851, 1, 374, 803, 911, 279, 5777, 2038, 11, 714, 7196, 330, 30654, 1, 374, 16910, 382, 785, 1790, 11652, 25, 330, 785, 9842, 4862, 11, 358, 7548, 1720, 429, 13, 1084, 594, 2167, 2989, 369, 847, 2997, 1189, 330, 11976, 398, 1720, 429, 1, 374, 264, 2699, 28759, 13, 10696, 330, 40, 7548, 1720, 1, 2041, 279, 330, 9033, 1189, 7281, 11, 330, 2132, 594, 2167, 2989, 1, 374, 4396, 11, 714, 7196, 330, 2132, 594, 16587, 1, 369, 24654, 382, 12209, 11, 330, 51455, 429, 11, 5023, 358, 1513, 944, 614, 264, 2696, 315, 3220, 1189, 330, 33714, 1, 374, 16910, 11, 714, 7196, 330, 58202, 1, 374, 2664, 13, 330, 40, 1513, 944, 614, 264, 2696, 315, 3220, 1, 374, 4396, 382, 5847, 25, 330, 40, 572, 2952, 311, 1618, 847, 6981, 13671, 13, 358, 1521, 1618, 847, 6981, 13671, 6556, 323, 566, 12290, 311, 847, 7403, 438, 1632, 1189, 330, 40, 572, 2952, 311, 1618, 1, 374, 4396, 13, 330, 1519, 12290, 311, 847, 7403, 438, 1632, 1, 374, 16910, 11, 714, 7196, 330, 383, 12290, 311, 847, 7403, 323, 847, 2841, 1, 421, 279, 4024, 2727, 330, 2408, 6837, 1189, 13824, 11, 279, 4024, 2727, 330, 2408, 6837, 1576, 847, 6981, 323, 847, 6554, 2581, 2270, 847, 7403, 476, 847, 6837, 3579, 311, 3579, 3512, 1189, 2055, 279, 6837, 525, 279, 6174, 537, 2270, 13, 2055, 330, 383, 12290, 311, 847, 7403, 323, 847, 2841, 1, 1035, 387, 2664, 382, 12209, 11, 330, 1519, 374, 518, 2114, 1431, 13, 1260, 374, 537, 518, 279, 8777, 14584, 1189, 330, 1519, 374, 518, 2114, 1431, 1, 374, 4396, 13, 330, 1519, 374, 537, 518, 279, 8777, 14584, 1, 374, 16910, 382, 5847, 25, 330, 40, 1172, 1184, 311, 1477, 3220, 311, 728, 2114, 13, 358, 1184, 311, 728, 2114, 448, 847, 7403, 323, 847, 6837, 1189, 330, 40, 1172, 1184, 311, 1477, 3220, 311, 728, 2114, 1, 374, 4396, 13, 330, 40, 1184, 311, 728, 2114, 448, 847, 7403, 323, 847, 6837, 1, 374, 16910, 11, 714, 7196, 330, 4197, 847, 7403, 323, 847, 2841, 1, 311, 2432, 279, 4024, 594, 330, 73896, 2217, 12209, 11, 330, 5050, 6837, 1576, 847, 6981, 323, 847, 6554, 2581, 2270, 847, 7403, 476, 847, 6837, 3579, 311, 3579, 3512, 1189, 330, 5050, 6837, 1576, 1, 374, 16910, 11, 714, 330, 2408, 6981, 323, 847, 6554, 2581, 2270, 847, 7403, 476, 847, 6837, 3579, 311, 3579, 3512, 1, 1265, 387, 330, 2408, 6981, 323, 847, 6554, 2581, 2270, 847, 7403, 476, 847, 6837, 3579, 311, 3579, 3512, 1189, 576, 4024, 702, 330, 2408, 7403, 476, 847, 6837, 1335, 773, 330, 2408, 7403, 476, 847, 6837, 1, 374, 4396, 382, 97904, 432, 678, 3786, 11, 358, 1184, 311, 1281, 2704, 61503, 374, 4396, 11, 1075, 76602, 323, 18346, 13, 7281, 11, 1779, 369, 6169, 6722, 2022, 11, 1075, 330, 38, 5491, 1, 1660, 97321, 13, 15623, 1119, 42643, 1380, 3204, 13, 10783, 894, 54710, 4244, 1075, 330, 372, 11, 43744, 11, 2714, 1, 714, 279, 4024, 3171, 944, 614, 1846, 13, 29279, 279, 7290, 374, 33583, 2041, 7842, 4113, 13, 4248, 369, 31428, 5975, 1075, 330, 11892, 398, 1720, 429, 1, 10454, 330, 11892, 398, 1720, 1189, 7281, 11, 330, 40, 1521, 1618, 847, 6981, 1, 1265, 387, 330, 40, 2598, 847, 6981, 1, 421, 279, 4024, 2727, 330, 40, 1521, 1618, 1189, 13824, 11, 279, 4024, 2727, 330, 40, 1521, 1618, 847, 6981, 13671, 6556, 323, 566, 12290, 311, 847, 7403, 438, 1632, 1189, 2055, 330, 40, 1521, 1618, 1, 374, 4396, 11, 714, 7196, 330, 40, 2598, 1, 374, 803, 5810, 13, 4354, 11, 279, 4024, 5711, 330, 22920, 1335, 773, 432, 594, 16910, 311, 2506, 432, 382, 4416, 279, 35965, 2319, 1265, 614, 6169, 61503, 11, 4396, 31428, 11, 10865, 1119, 42643, 11, 323, 902, 3694, 2213, 13, 6771, 752, 2182, 432, 678, 3786, 1431, 624, 151668, 271, 4416, 1052, 525, 264, 2696, 315, 2513, 582, 14078, 1573, 3351, 11, 323, 358, 3207, 944, 2167, 614, 882, 311, 1896, 1917, 389, 1105, 13, 358, 1077, 498, 1414, 429, 358, 1184, 311, 23974, 498, 315, 1846, 2513, 358, 1184, 311, 653, 13, 9295, 6602, 11, 582, 525, 518, 479, 5491, 11, 323, 358, 686, 1191, 279, 9842, 3308, 13, 576, 9842, 3308, 374, 16587, 369, 847, 2997, 13, 30809, 429, 11, 5023, 11, 358, 1513, 944, 614, 264, 2696, 315, 3220, 13, 358, 572, 2952, 311, 1618, 847, 6981, 13671, 13, 358, 2598, 847, 6981, 13671, 6556, 11, 323, 566, 12290, 311, 847, 7403, 438, 1632, 13, 1260, 12290, 311, 847, 7403, 323, 847, 2841, 13, 1260, 374, 518, 2114, 1431, 323, 374, 537, 518, 279, 8777, 14584, 13, 358, 1172, 1184, 311, 1477, 3220, 311, 728, 2114, 13, 358, 1184, 311, 728, 2114, 448, 847, 7403, 323, 847, 2841, 13, 3017, 2841, 11, 1576, 847, 6981, 323, 847, 6554, 2581, 2270, 847, 7403, 476, 847, 2841, 3579, 311, 3579, 3512, 13], 'total_duration': 27078095958, 'load_duration': 1956415291, 'prompt_eval_count': 526, 'prompt_eval_duration': 1190728417, 'eval_count': 1076, 'eval_duration': 23930377792}...
2025-07-15 13:32:23,302 - celery.redirected - WARNING - First part (thinking):
2025-07-15 13:32:23,302 - celery.redirected - WARNING -  
2025-07-15 13:32:23,302 - celery.redirected - WARNING - Okay, let's start by reading through the original transcript carefully. The user wants me to correct spelling and grammar mistakes, add proper punctuation, break into paragraphs, and not add anything else. 

First, the opening sentence: "So there are a lot of things we discussed before today and I didn't really have time to act on them." The word "act on them" might be better as "take action on them" for flow. Also, "So there are" could be "So there are" but maybe "So there are a lot of things we discussed" is okay.

Next, "I let you come back to me or kindly remind me of those things I need to do." The phrase "let you come back" might be better as "let you know" or "let you remind me." Also, "kindly remind me" is correct, but maybe "let you know" is more natural.

Then, "Next Friday, we are at GSD and I will start the driving code training." "We are at GSD" might be "we are at the GSD" if GSD is a specific place. Also, "start the driving code training" should be "start the driving course" since "code" is more about the legal code, but maybe "training" is okay.

The next sentence: "The driving training, I highly expect that. It's really important for my family." "Highly expect that" is a bit awkward. Maybe "I highly expect" without the "that." Also, "It's really important" is correct, but maybe "It's crucial" for emphasis.

Then, "Besides that, currently I don't have a lot of money." "Currently" is okay, but maybe "currently" is better. "I don't have a lot of money" is correct.

Next: "I was able to call my father yesterday. I did call my father yesterday morning and he spoke to my wife as well." "I was able to call" is correct. "He spoke to my wife as well" is okay, but maybe "he spoke to my wife and my children" if the original says "my kids." Wait, the original says "my kids because my father and my mother never met my wife or my kids face to face ever." So the kids are the ones not met. So "he spoke to my wife and my children" would be better.

Then, "He is at home now. He is not at the hospital anymore." "He is at home now" is correct. "He is not at the hospital anymore" is okay.

Next: "I only need to find money to go home. I need to go home with my wife and my kids." "I only need to find money to go home" is correct. "I need to go home with my wife and my kids" is okay, but maybe "with my wife and my children" to match the original's "kids."

Then, "My kids because my father and my mother never met my wife or my kids face to face ever." "My kids because" is okay, but "my father and my mother never met my wife or my kids face to face ever" should be "my father and my mother never met my wife or my kids face to face ever." The original has "my wife or my kids," so "my wife or my kids" is correct.

Putting it all together, I need to make sure punctuation is correct, like commas and periods. Also, check for proper capitalization, like "GSD" being capitalized. Break into paragraphs where possible. Remove any filler words like "um, uh, er" but the original doesn't have those. Ensure the meaning is preserved without adding anything. Check for grammar errors like "highly expect that" becoming "highly expect." Also, "I did call my father" should be "I called my father" if the original says "I did call." Wait, the original says "I did call my father yesterday morning and he spoke to my wife as well." So "I did call" is correct, but maybe "I called" is more natural. However, the original uses "did," so it's okay to keep it.

So the corrected version should have proper punctuation, correct grammar, broken into paragraphs, and no added content. Let me put it all together now.
2025-07-15 13:32:23,302 - celery.redirected - WARNING - Second part (response):
2025-07-15 13:32:23,303 - celery.redirected - WARNING -  
2025-07-15 13:32:23,303 - celery.redirected - WARNING - So there are a lot of things we discussed before today, and I didn't really have time to take action on them. I let you know that I need to remind you of those things I need to do. Next Friday, we are at GSD, and I will start the driving course. The driving course is crucial for my family. Besides that, currently, I don't have a lot of money. I was able to call my father yesterday. I called my father yesterday morning, and he spoke to my wife as well. He spoke to my wife and my children. He is at home now and is not at the hospital anymore. I only need to find money to go home. I need to go home with my wife and my children. My children, because my father and my mother never met my wife or my children face to face ever.
2025-07-15 13:32:23,318 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Transcription complete, awaiting user review
2025-07-15 13:32:23,577 - celery.app.trace - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[25d7dfc0-6e1f-4ad7-8bed-5851c5cca52f] succeeded in 84.84153520897962s: {'status': 'success', 'audio_id': 'e4b5911f-11fb-4785-b944-b56bac64891d'}
2025-07-15 13:32:23,583 - repositories.job_repository - INFO - Updated job c65c14a0-38d7-470c-8d29-828372505294 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:32:23,583 - workers.base_task - INFO - Task 25d7dfc0-6e1f-4ad7-8bed-5851c5cca52f cleanup completed
2025-07-15 13:32:23,583 - workers.celery_app - INFO - Finished task workers.tasks.transcription_tasks.transcribe_audio [25d7dfc0-6e1f-4ad7-8bed-5851c5cca52f] with state: SUCCESS
2025-07-15 13:33:08,306 - celery.worker.strategy - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[0d2ab734-0160-49fb-8438-d30c7f76f5b3] received
2025-07-15 13:33:08,306 - workers.celery_app - INFO - Starting task workers.tasks.transcript_processor.process_knowledge_base [0d2ab734-0160-49fb-8438-d30c7f76f5b3]
2025-07-15 13:33:08,318 - repositories.job_repository - INFO - Updated job 16e91555-4005-49bd-ad66-57bf138867cd status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:33:08,319 - workers.base_task - INFO - Task 0d2ab734-0160-49fb-8438-d30c7f76f5b3 initialized successfully
2025-07-15 13:33:08,319 - workers.base_task - INFO - Progress: 1/5 (20.0%) - Loading improved transcript
2025-07-15 13:33:08,356 - workers.tasks.transcript_processor - INFO - Using existing improved transcript for knowledge base processing: e4b5911f-11fb-4785-b944-b56bac64891d
2025-07-15 13:33:08,356 - workers.base_task - INFO - Progress: 2/5 (40.0%) - Chunking transcript
2025-07-15 13:33:08,385 - workers.base_task - INFO - Progress: 3/5 (60.0%) - Analyzing sentiment and extracting entities
2025-07-15 13:33:08,638 - services.ner_service - INFO - Loaded spaCy model for en: en_core_web_sm
2025-07-15 13:33:09,252 - services.ner_service - INFO - Loaded spaCy model for fr: fr_core_news_sm
2025-07-15 13:33:09,277 - workers.base_task - INFO - Progress: 4/5 (80.0%) - Updating knowledge base
2025-07-15 13:33:09,302 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:33:09,307 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/delete "HTTP/1.1 200 OK"
2025-07-15 13:33:09,307 - services.vector_db_client - INFO - Deleted documents: ids=None, where={'audio_id': 'e4b5911f-11fb-4785-b944-b56bac64891d'}
2025-07-15 13:33:09,327 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:33:09,329 - celery.redirected - WARNING - Batches:   0%|          | 0/1 [00:00<?, ?it/s]
2025-07-15 13:33:09,349 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00, 48.14it/s]
2025-07-15 13:33:09,365 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/add "HTTP/1.1 201 Created"
2025-07-15 13:33:09,365 - services.vector_db_client - INFO - Added 1 documents to collection
2025-07-15 13:33:09,403 - workers.base_task - INFO - Progress: 5/5 (100.0%) - Knowledge base processing completed
2025-07-15 13:33:09,416 - workers.tasks.transcript_processor - INFO - Successfully updated knowledge base for audio e4b5911f-11fb-4785-b944-b56bac64891d (no transcript improvement)
2025-07-15 13:33:09,428 - celery.app.trace - INFO - Task workers.tasks.transcript_processor.process_knowledge_base[0d2ab734-0160-49fb-8438-d30c7f76f5b3] succeeded in 1.121292291994905s: {'audio_id': 'e4b5911f-11fb-4785-b944-b56bac64891d', 'chunks_created': 1, 'entities_extracted': 6, 'vector_indexed': True, 'graph_indexed': True, 'knowledge_base_updated_at': '2025-07-15T11:33:09.416207', 'transcript_improvement_skipped': True}
2025-07-15 13:33:09,430 - repositories.job_repository - INFO - Updated job 16e91555-4005-49bd-ad66-57bf138867cd status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:33:09,430 - workers.base_task - INFO - Task 0d2ab734-0160-49fb-8438-d30c7f76f5b3 cleanup completed
2025-07-15 13:33:09,430 - workers.celery_app - INFO - Finished task workers.tasks.transcript_processor.process_knowledge_base [0d2ab734-0160-49fb-8438-d30c7f76f5b3] with state: SUCCESS
2025-07-15 13:35:16,981 - celery.worker.strategy - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[a7aba950-8488-4050-b774-e3a6b763961b] received
2025-07-15 13:35:16,981 - workers.celery_app - INFO - Starting task workers.tasks.transcription_tasks.transcribe_audio [a7aba950-8488-4050-b774-e3a6b763961b]
2025-07-15 13:35:16,988 - repositories.job_repository - INFO - Updated job 9f025c67-f364-4d9f-a1f6-820fc26a3558 status: JobStatus.PENDING -> JobStatus.PROCESSING
2025-07-15 13:35:16,988 - workers.base_task - INFO - Task a7aba950-8488-4050-b774-e3a6b763961b initialized successfully
2025-07-15 13:35:16,988 - workers.base_task - INFO - Progress: 1/3 (33.3%) - Starting transcription
2025-07-15 13:35:17,016 - services.transcription_service - INFO - Transcribing audio_files/2025/07/15/audio_20250715_133516_8b653e20.m4a with whisper
2025-07-15 13:35:17,016 - celery.redirected - WARNING - Using device for whisper: mps
2025-07-15 13:35:17,016 - services.transcription_service - INFO - Loading Whisper model: medium
2025-07-15 13:35:22,016 - py.warnings - WARNING - /Users/genereux/Dev/pegasus/backend/.venv/lib/python3.11/site-packages/whisper/transcribe.py:132: UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn("FP16 is not supported on CPU; using FP32 instead")

huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:35:22,389 - celery.redirected - WARNING -   0%|          | 0/11990 [00:00<?, ?frames/s]
2025-07-15 13:35:30,506 - celery.redirected - WARNING -  22%|##1       | 2628/11990 [00:08<00:28, 323.78frames/s]
2025-07-15 13:35:38,015 - celery.redirected - WARNING -  40%|###9      | 4764/11990 [00:15<00:23, 301.41frames/s]
2025-07-15 13:35:47,322 - celery.redirected - WARNING -  60%|#####9    | 7172/11990 [00:24<00:17, 279.98frames/s]
2025-07-15 13:35:55,695 - celery.redirected - WARNING -  78%|#######8  | 9412/11990 [00:33<00:09, 275.09frames/s]
2025-07-15 13:36:04,024 - celery.redirected - WARNING - 100%|##########| 11990/11990 [00:41<00:00, 287.42frames/s]
2025-07-15 13:36:04,024 - celery.redirected - WARNING - 100%|##########| 11990/11990 [00:41<00:00, 287.98frames/s]
huggingface/tokenizers: The current process just got forked, after parallelism has already been used. Disabling parallelism to avoid deadlocks...
To disable this warning, you can either:
	- Avoid using `tokenizers` before the fork if possible
	- Explicitly set the environment variable TOKENIZERS_PARALLELISM=(true | false)
2025-07-15 13:36:04,140 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Original transcription complete, awaiting transcript improvement
2025-07-15 13:36:04,164 - services.ollama_service - INFO - Improving transcript with Ollama
2025-07-15 13:36:04,191 - httpx - INFO - HTTP Request: GET http://localhost:11434/api/tags "HTTP/1.1 200 OK"
2025-07-15 13:36:21,851 - httpx - INFO - HTTP Request: POST http://localhost:11434/api/generate "HTTP/1.1 200 OK"
2025-07-15 13:36:21,852 - services.ollama_service - INFO - Ollama completion successful: Result: {'model': 'qwen3:1.7b', 'created_at': '2025-07-15T11:36:21.843079Z', 'response': "On the project side, this week I want to make progress on the bot I'm currently working on. This is the WhatsApp bot that runs locally on my computer and monitors incoming WhatsApp messages, providing a generated response on the fly to contacts that send me messages. It will act as a monitoring app to track past messages. I need to follow up with the message and remember many things I need to act on. It's important to put it all together and use it because I need it. I have too many things on WhatsApp and don't have time to see all that by myself. It is a personal project beside Orion. I will also work on Pegasus. Pegasus is spelled as follows: P-E-G-A-S-U-S. I want to work on Pegasus as my assistant that I'm currently using. It is still in development. There are some improvements I want to make to the front of mobile applications.", 'thinking': 'Okay, let\'s tackle this transcript. First, I need to check for spelling and grammar errors. The user mentioned not to add anything else, so I have to be precise.\n\nLooking at the first sentence: "On the project side, this week I want to progress on the bot I\'m currently working on." The word "progress" might be better as "make progress" for flow. Then "This is the WhatsApp bot that runs locally on my computer and monitors my incoming WhatsApp message and provide a generated response on the fly to those contact that send me a message." Here, "provide" should be "provides" since it\'s a verb in the sentence. Also, "contact that send me" should be "contact that send" with a verb. \n\nNext part: "It will act as a monitoring app to monitor past messages." "Monitor past messages" might be better as "monitor past messages" since it\'s a noun. Then "I need to follow up with the message and to remember many things I need to act on." The "to remember" should be "to remember" with a comma. "It\'s important for me to put that together and use it because I need it." "Put that together" could be "put it all together" for clarity. \n\nThe sentence about the personal project: "It is a personal project beside Orion." "Beside" should be "beside" with a hyphen. Then "I will also work on Pegasus. Pegasus is spelled like this. P-E-G-A-S-U-S I want to work on Pegasus as my assistant that I\'m currently using." Here, "Pegasus is spelled like this" should be "Pegasus is spelled as follows" for correctness. "As my assistant that I\'m currently using" should be "as my assistant that I\'m currently using" with a comma. \n\nI need to check for proper punctuation. The original has some missing commas and periods. Also, ensure that each sentence is properly structured. The user wants the text to be corrected but not altered in meaning. Let me make sure all the corrections are accurate and don\'t add anything extra. \n\nFinally, break the text into logical paragraphs if needed. The original has some long sentences, so splitting them might improve readability. But the user didn\'t mention paragraphs, so maybe keep it as is. Also, remove any filler words like "um" or "uh" but the original doesn\'t have those. \n\nDouble-checking for any other typos or grammar issues. The main corrections are spelling errors, punctuation, and sentence structure. Make sure the meaning remains the same. Alright, time to put it all together.\n', 'done': True, 'done_reason': 'stop', 'context': [151644, 8948, 271, 2610, 525, 458, 6203, 15235, 389, 42429, 323, 31428, 13, 4615, 3383, 374, 311, 4396, 279, 1467, 1172, 323, 1172, 979, 5871, 13, 358, 1079, 537, 10161, 1128, 498, 1744, 315, 279, 1467, 13866, 421, 498, 1075, 476, 537, 26, 8278, 4396, 279, 42429, 323, 31428, 20643, 26, 715, 8973, 46817, 43797, 50, 481, 29668, 1930, 21792, 27915, 9183, 7910, 3596, 63756, 510, 16, 13, 220, 39970, 8036, 1467, 5975, 320, 41094, 8, 323, 13580, 966, 624, 17, 13, 220, 2691, 6169, 61503, 323, 6722, 2022, 198, 18, 13, 220, 15623, 1467, 1119, 19819, 42643, 421, 432, 646, 12434, 803, 38975, 311, 279, 1467, 198, 19, 13, 220, 55025, 2297, 279, 7290, 476, 912, 697, 1828, 22845, 476, 7274, 13, 358, 1513, 944, 2453, 911, 429, 26, 39970, 279, 1467, 323, 4675, 432, 438, 697, 2550, 13, 2691, 4302, 803, 280, 20, 256, 55025, 912, 4137, 4244, 11, 31747, 11, 476, 2213, 537, 304, 279, 4024, 13, 4320, 944, 912, 697, 7274, 1882, 476, 6358, 2987, 624, 21, 13, 220, 55025, 912, 7102, 11, 15311, 11, 68922, 11, 476, 40841, 13, 55025, 198, 22, 13, 220, 55025, 912, 61369, 31747, 1075, 330, 8420, 594, 279, 12944, 35715, 2974, 476, 4113, 4428, 715, 23, 13, 220, 10783, 54710, 4244, 320, 372, 11, 43744, 11, 2714, 8, 481, 4302, 770, 198, 24, 13, 220, 4615, 2033, 27732, 6644, 26687, 279, 12944, 1467, 13, 2303, 4416, 308, 2836, 308, 2836, 912, 4113, 770, 1573, 476, 1283, 279, 35715, 5086, 624, 16, 15, 13, 1446, 525, 5420, 311, 5602, 279, 1467, 1172, 311, 912, 57323, 311, 279, 7290, 315, 279, 1467, 624, 16, 15, 13, 1416, 498, 912, 4137, 56664, 7797, 279, 7290, 315, 279, 4024, 1467, 11, 697, 2033, 686, 387, 17551, 271, 67783, 37439, 4769, 26687, 3168, 26465, 44840, 1479, 15762, 13, 5664, 15814, 87938, 15762, 91892, 56482, 2726, 48264, 3168, 21116, 16383, 40347, 24787, 25, 151645, 198, 151644, 872, 198, 18395, 35715, 1447, 1913, 279, 2390, 3108, 11, 419, 2003, 358, 1366, 311, 5098, 389, 279, 10924, 358, 2776, 5023, 3238, 389, 13, 1096, 374, 279, 40013, 10924, 429, 8473, 23490, 389, 847, 6366, 323, 36477, 847, 19393, 40013, 1943, 323, 3410, 264, 7907, 2033, 389, 279, 11466, 311, 1846, 3645, 429, 3624, 752, 264, 1943, 13, 1084, 686, 1160, 438, 264, 16558, 906, 311, 8718, 3267, 6605, 13, 358, 1184, 311, 1795, 705, 448, 279, 1943, 323, 311, 6099, 1657, 2513, 358, 1184, 311, 1160, 389, 13, 1084, 594, 2989, 369, 752, 311, 2182, 429, 3786, 323, 990, 432, 1576, 358, 1184, 432, 13, 358, 614, 2238, 1657, 2513, 389, 40013, 323, 358, 1513, 944, 614, 882, 311, 1490, 678, 429, 553, 7037, 13, 1084, 374, 264, 4345, 2390, 29388, 68673, 13, 358, 686, 1083, 975, 389, 393, 86033, 13, 393, 86033, 374, 67818, 1075, 419, 13, 393, 13431, 12010, 6691, 6222, 34581, 6222, 358, 1366, 311, 975, 389, 393, 86033, 438, 847, 17847, 429, 358, 2776, 5023, 1667, 13, 1084, 374, 2058, 304, 4401, 13, 2619, 525, 1045, 18142, 358, 1366, 311, 653, 389, 279, 4065, 315, 6371, 8357, 13, 608, 26865, 151645, 198, 151644, 77091, 198, 151667, 198, 32313, 11, 1077, 594, 21403, 419, 35715, 13, 5512, 11, 358, 1184, 311, 1779, 369, 42429, 323, 31428, 5975, 13, 576, 1196, 9733, 537, 311, 912, 4113, 770, 11, 773, 358, 614, 311, 387, 23560, 382, 22464, 518, 279, 1156, 11652, 25, 330, 1925, 279, 2390, 3108, 11, 419, 2003, 358, 1366, 311, 5098, 389, 279, 10924, 358, 2776, 5023, 3238, 389, 1189, 576, 3409, 330, 14366, 1, 2578, 387, 2664, 438, 330, 6927, 5098, 1, 369, 6396, 13, 5005, 330, 1986, 374, 279, 40013, 10924, 429, 8473, 23490, 389, 847, 6366, 323, 36477, 847, 19393, 40013, 1943, 323, 3410, 264, 7907, 2033, 389, 279, 11466, 311, 1846, 3645, 429, 3624, 752, 264, 1943, 1189, 5692, 11, 330, 61456, 1, 1265, 387, 330, 776, 67154, 1, 2474, 432, 594, 264, 18607, 304, 279, 11652, 13, 7281, 11, 330, 6287, 429, 3624, 752, 1, 1265, 387, 330, 6287, 429, 3624, 1, 448, 264, 18607, 13, 4710, 5847, 949, 25, 330, 2132, 686, 1160, 438, 264, 16558, 906, 311, 8718, 3267, 6605, 1189, 330, 30098, 3267, 6605, 1, 2578, 387, 2664, 438, 330, 32225, 3267, 6605, 1, 2474, 432, 594, 264, 36921, 13, 5005, 330, 40, 1184, 311, 1795, 705, 448, 279, 1943, 323, 311, 6099, 1657, 2513, 358, 1184, 311, 1160, 389, 1189, 576, 330, 983, 6099, 1, 1265, 387, 330, 983, 6099, 1, 448, 264, 31683, 13, 330, 2132, 594, 2989, 369, 752, 311, 2182, 429, 3786, 323, 990, 432, 1576, 358, 1184, 432, 1189, 330, 19103, 429, 3786, 1, 1410, 387, 330, 628, 432, 678, 3786, 1, 369, 31273, 13, 4710, 785, 11652, 911, 279, 4345, 2390, 25, 330, 2132, 374, 264, 4345, 2390, 29388, 68673, 1189, 330, 39726, 577, 1, 1265, 387, 330, 9433, 577, 1, 448, 264, 6275, 14769, 13, 5005, 330, 40, 686, 1083, 975, 389, 393, 86033, 13, 393, 86033, 374, 67818, 1075, 419, 13, 393, 13431, 12010, 6691, 6222, 34581, 6222, 358, 1366, 311, 975, 389, 393, 86033, 438, 847, 17847, 429, 358, 2776, 5023, 1667, 1189, 5692, 11, 330, 47, 86033, 374, 67818, 1075, 419, 1, 1265, 387, 330, 47, 86033, 374, 67818, 438, 11017, 1, 369, 57323, 13, 330, 2121, 847, 17847, 429, 358, 2776, 5023, 1667, 1, 1265, 387, 330, 300, 847, 17847, 429, 358, 2776, 5023, 1667, 1, 448, 264, 31683, 13, 4710, 40, 1184, 311, 1779, 369, 6169, 61503, 13, 576, 4024, 702, 1045, 7402, 76602, 323, 18346, 13, 7281, 11, 5978, 429, 1817, 11652, 374, 10277, 32930, 13, 576, 1196, 6801, 279, 1467, 311, 387, 35965, 714, 537, 28752, 304, 7290, 13, 6771, 752, 1281, 2704, 678, 279, 50379, 525, 13382, 323, 1513, 944, 912, 4113, 4960, 13, 4710, 23949, 11, 1438, 279, 1467, 1119, 19819, 42643, 421, 4362, 13, 576, 4024, 702, 1045, 1293, 22870, 11, 773, 44373, 1105, 2578, 7269, 91494, 13, 1988, 279, 1196, 3207, 944, 6286, 42643, 11, 773, 7196, 2506, 432, 438, 374, 13, 7281, 11, 4057, 894, 54710, 4244, 1075, 330, 372, 1, 476, 330, 12540, 1, 714, 279, 4024, 3171, 944, 614, 1846, 13, 4710, 7378, 15934, 287, 369, 894, 1008, 13580, 966, 476, 31428, 4714, 13, 576, 1887, 50379, 525, 42429, 5975, 11, 61503, 11, 323, 11652, 5944, 13, 7405, 2704, 279, 7290, 8458, 279, 1852, 13, 97593, 11, 882, 311, 2182, 432, 678, 3786, 624, 151668, 271, 1925, 279, 2390, 3108, 11, 419, 2003, 358, 1366, 311, 1281, 5098, 389, 279, 10924, 358, 2776, 5023, 3238, 389, 13, 1096, 374, 279, 40013, 10924, 429, 8473, 23490, 389, 847, 6366, 323, 36477, 19393, 40013, 6605, 11, 8241, 264, 7907, 2033, 389, 279, 11466, 311, 18508, 429, 3624, 752, 6605, 13, 1084, 686, 1160, 438, 264, 16558, 906, 311, 3754, 3267, 6605, 13, 358, 1184, 311, 1795, 705, 448, 279, 1943, 323, 6099, 1657, 2513, 358, 1184, 311, 1160, 389, 13, 1084, 594, 2989, 311, 2182, 432, 678, 3786, 323, 990, 432, 1576, 358, 1184, 432, 13, 358, 614, 2238, 1657, 2513, 389, 40013, 323, 1513, 944, 614, 882, 311, 1490, 678, 429, 553, 7037, 13, 1084, 374, 264, 4345, 2390, 29388, 68673, 13, 358, 686, 1083, 975, 389, 393, 86033, 13, 393, 86033, 374, 67818, 438, 11017, 25, 393, 13431, 12010, 6691, 6222, 34581, 6222, 13, 358, 1366, 311, 975, 389, 393, 86033, 438, 847, 17847, 429, 358, 2776, 5023, 1667, 13, 1084, 374, 2058, 304, 4401, 13, 2619, 525, 1045, 18142, 358, 1366, 311, 1281, 311, 279, 4065, 315, 6371, 8357, 13], 'total_duration': 17636410625, 'load_duration': 26520750, 'prompt_eval_count': 521, 'prompt_eval_duration': 1729575375, 'eval_count': 736, 'eval_duration': 15878826250}...
2025-07-15 13:36:21,853 - celery.redirected - WARNING - First part (thinking):
2025-07-15 13:36:21,853 - celery.redirected - WARNING -  
2025-07-15 13:36:21,853 - celery.redirected - WARNING - Okay, let's tackle this transcript. First, I need to check for spelling and grammar errors. The user mentioned not to add anything else, so I have to be precise.

Looking at the first sentence: "On the project side, this week I want to progress on the bot I'm currently working on." The word "progress" might be better as "make progress" for flow. Then "This is the WhatsApp bot that runs locally on my computer and monitors my incoming WhatsApp message and provide a generated response on the fly to those contact that send me a message." Here, "provide" should be "provides" since it's a verb in the sentence. Also, "contact that send me" should be "contact that send" with a verb. 

Next part: "It will act as a monitoring app to monitor past messages." "Monitor past messages" might be better as "monitor past messages" since it's a noun. Then "I need to follow up with the message and to remember many things I need to act on." The "to remember" should be "to remember" with a comma. "It's important for me to put that together and use it because I need it." "Put that together" could be "put it all together" for clarity. 

The sentence about the personal project: "It is a personal project beside Orion." "Beside" should be "beside" with a hyphen. Then "I will also work on Pegasus. Pegasus is spelled like this. P-E-G-A-S-U-S I want to work on Pegasus as my assistant that I'm currently using." Here, "Pegasus is spelled like this" should be "Pegasus is spelled as follows" for correctness. "As my assistant that I'm currently using" should be "as my assistant that I'm currently using" with a comma. 

I need to check for proper punctuation. The original has some missing commas and periods. Also, ensure that each sentence is properly structured. The user wants the text to be corrected but not altered in meaning. Let me make sure all the corrections are accurate and don't add anything extra. 

Finally, break the text into logical paragraphs if needed. The original has some long sentences, so splitting them might improve readability. But the user didn't mention paragraphs, so maybe keep it as is. Also, remove any filler words like "um" or "uh" but the original doesn't have those. 

Double-checking for any other typos or grammar issues. The main corrections are spelling errors, punctuation, and sentence structure. Make sure the meaning remains the same. Alright, time to put it all together.
2025-07-15 13:36:21,853 - celery.redirected - WARNING - Second part (response):
2025-07-15 13:36:21,853 - celery.redirected - WARNING -  
2025-07-15 13:36:21,853 - celery.redirected - WARNING - On the project side, this week I want to make progress on the bot I'm currently working on. This is the WhatsApp bot that runs locally on my computer and monitors incoming WhatsApp messages, providing a generated response on the fly to contacts that send me messages. It will act as a monitoring app to track past messages. I need to follow up with the message and remember many things I need to act on. It's important to put it all together and use it because I need it. I have too many things on WhatsApp and don't have time to see all that by myself. It is a personal project beside Orion. I will also work on Pegasus. Pegasus is spelled as follows: P-E-G-A-S-U-S. I want to work on Pegasus as my assistant that I'm currently using. It is still in development. There are some improvements I want to make to the front of mobile applications.
2025-07-15 13:36:21,862 - workers.base_task - INFO - Progress: 2/3 (66.7%) - Transcription complete, awaiting user review
2025-07-15 13:36:22,047 - celery.app.trace - INFO - Task workers.tasks.transcription_tasks.transcribe_audio[a7aba950-8488-4050-b774-e3a6b763961b] succeeded in 65.06522366599529s: {'status': 'success', 'audio_id': '54629406-e7ea-49e6-b20b-00288de21bb3'}
2025-07-15 13:36:22,054 - repositories.job_repository - INFO - Updated job 9f025c67-f364-4d9f-a1f6-820fc26a3558 status: JobStatus.PROCESSING -> JobStatus.COMPLETED
2025-07-15 13:36:22,054 - workers.base_task - INFO - Task a7aba950-8488-4050-b774-e3a6b763961b cleanup completed
2025-07-15 13:36:22,054 - workers.celery_app - INFO - Finished task workers.tasks.transcription_tasks.transcribe_audio [a7aba950-8488-4050-b774-e3a6b763961b] with state: SUCCESS
2025-07-15 13:46:47,714 - celery.worker.strategy - INFO - Task workers.tasks.conversation_processing_tasks.process_conversation_history[47c56161-64fc-46aa-9876-f460b8aa17d4] received
2025-07-15 13:47:09,377 - celery.worker.strategy - INFO - Task workers.tasks.conversation_processing_tasks.process_conversation_history[11cf7f1d-a135-4364-bc5a-8137bb1cdabc] received
2025-07-15 13:47:47,708 - workers.celery_app - INFO - Starting task workers.tasks.conversation_processing_tasks.process_conversation_history [47c56161-64fc-46aa-9876-f460b8aa17d4]
2025-07-15 13:47:47,709 - workers.base_task - INFO - Task 47c56161-64fc-46aa-9876-f460b8aa17d4 initialized successfully
2025-07-15 13:47:47,955 - services.ner_service - INFO - Loaded spaCy model for en: en_core_web_sm
2025-07-15 13:47:48,633 - services.ner_service - INFO - Loaded spaCy model for fr: fr_core_news_sm
2025-07-15 13:47:48,645 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:47:48,646 - celery.redirected - WARNING - Batches:   0%|          | 0/1 [00:00<?, ?it/s]
2025-07-15 13:47:48,658 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00, 83.38it/s]
2025-07-15 13:47:48,679 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/add "HTTP/1.1 201 Created"
2025-07-15 13:47:48,679 - services.vector_db_client - INFO - Added 1 documents to collection
2025-07-15 13:47:48,725 - celery.app.trace - INFO - Task workers.tasks.conversation_processing_tasks.process_conversation_history[47c56161-64fc-46aa-9876-f460b8aa17d4] succeeded in 1.0166694170038681s: None
2025-07-15 13:47:48,725 - workers.base_task - INFO - Task 47c56161-64fc-46aa-9876-f460b8aa17d4 cleanup completed
2025-07-15 13:47:48,725 - workers.celery_app - INFO - Finished task workers.tasks.conversation_processing_tasks.process_conversation_history [47c56161-64fc-46aa-9876-f460b8aa17d4] with state: SUCCESS
2025-07-15 13:48:09,374 - workers.celery_app - INFO - Starting task workers.tasks.conversation_processing_tasks.process_conversation_history [11cf7f1d-a135-4364-bc5a-8137bb1cdabc]
2025-07-15 13:48:09,375 - workers.base_task - INFO - Task 11cf7f1d-a135-4364-bc5a-8137bb1cdabc initialized successfully
2025-07-15 13:48:09,593 - services.ner_service - INFO - Loaded spaCy model for en: en_core_web_sm
2025-07-15 13:48:10,118 - services.ner_service - INFO - Loaded spaCy model for fr: fr_core_news_sm
2025-07-15 13:48:10,127 - httpx - INFO - HTTP Request: GET http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/pegasus_transcripts "HTTP/1.1 200 OK"
2025-07-15 13:48:10,128 - celery.redirected - WARNING - Batches:   0%|          | 0/1 [00:00<?, ?it/s]
2025-07-15 13:48:10,134 - celery.redirected - WARNING - Batches: 100%|##########| 1/1 [00:00<00:00, 162.33it/s]
2025-07-15 13:48:10,155 - httpx - INFO - HTTP Request: POST http://localhost:8001/api/v2/tenants/default_tenant/databases/default_database/collections/a434ef16-eb61-46d1-a821-978d21cce5d2/add "HTTP/1.1 201 Created"
2025-07-15 13:48:10,155 - services.vector_db_client - INFO - Added 1 documents to collection
2025-07-15 13:48:10,177 - celery.app.trace - INFO - Task workers.tasks.conversation_processing_tasks.process_conversation_history[11cf7f1d-a135-4364-bc5a-8137bb1cdabc] succeeded in 0.8024744580034167s: None
2025-07-15 13:48:10,177 - workers.base_task - INFO - Task 11cf7f1d-a135-4364-bc5a-8137bb1cdabc cleanup completed
2025-07-15 13:48:10,177 - workers.celery_app - INFO - Finished task workers.tasks.conversation_processing_tasks.process_conversation_history [11cf7f1d-a135-4364-bc5a-8137bb1cdabc] with state: SUCCESS

worker: Hitting Ctrl+C again will initiate cold shutdown, terminating all running tasks!

worker: Warm shutdown (MainProcess)
2025-07-15 14:38:40,012 - workers.celery_app - INFO - Celery worker celery@mac-1.home is shutting down
